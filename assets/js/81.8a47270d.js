(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{680:function(e,c,a){"use strict";a.r(c);var t=a(0),s=Object(t.a)({},(function(){var e=this,c=e.$createElement,a=e._self._c||c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"receiveaccountblocktask"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#receiveaccountblocktask"}},[e._v("#")]),e._v(" "),a("code",[e._v("ReceiveAccountBlockTask")])]),e._v(" "),a("p",[a("code",[e._v("ReceiveAccountBlockTask")]),e._v(" is a timed task which polls for unreceived transactions for an account and receives the transactions automatically.")]),e._v(" "),a("h2",{attrs:{id:"constructor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#constructor"}},[e._v("#")]),e._v(" "),a("code",[e._v("Constructor")])]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("Constructor")])]),e._v(" "),a("ul",[a("li",[a("code",[e._v("object")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("address: Address")]),e._v(" Address of account")]),e._v(" "),a("li",[a("code",[e._v("provider: ViteAPI")]),e._v(" "),a("code",[e._v("ViteAPI")]),e._v(" instance")]),e._v(" "),a("li",[a("code",[e._v("privateKey: Hex")])]),e._v(" "),a("li",[a("code",[e._v("sign?: Function")]),e._v(" Set the signature when the private key can not be obtained, e.g. using a hardware wallet.")])])])])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("ul",[a("li",[e._v("With a private key:")])]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"js",base64:"aW1wb3J0IHsgd2FsbGV0LCBhY2NvdW50QmxvY2sgfSBmcm9tICdAdml0ZS92aXRlanMnOwpjb25zdCB7IFJlY2VpdmVBY2NvdW50QmxvY2tUYXNrIH0gPSBhY2NvdW50QmxvY2s7Cgpjb25zdCB7IGFkZHJlc3MsIHByaXZhdGVLZXkgfSA9IHdhbGxldC5jcmVhdGVBZGRyZXNzQnlQcml2YXRlS2V5KCk7CmNvbnN0IHJlY2VpdmVUYXNrID0gbmV3IFJlY2VpdmVBY2NvdW50QmxvY2tUYXNrKHsKCWFkZHJlc3MsCglwcml2YXRlS2V5LAoJcHJvdmlkZXI6IHZpdGVBcGksCn0pOwo="}}),e._v(" "),a("ul",[a("li",[e._v("Without a private key - using a hardware wallet:")])]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"js",base64:"aW1wb3J0IHsgYWNjb3VudEJsb2NrIH0gZnJvbSAnQHZpdGUvdml0ZWpzJzsKY29uc3QgeyBSZWNlaXZlQWNjb3VudEJsb2NrVGFzayB9ID0gYWNjb3VudEJsb2NrOwpjb25zdCBzaWduV2l0aEhhcmRXYWxsZXQgPSBhc3luYyAoKSA9Jmd0OyB7CglsZXQgc2lnbmF0dXJlID0gJyc7CgkvLyBTaWduIHdpdGggYSBoYXJkd2FyZSB3YWxsZXQgYW5kIHJldHVybiB0aGUgc2lnbmF0dXJlCglyZXR1cm4gc2lnbmF0dXJlOwp9Cgpjb25zdCByZWNlaXZlVGFzayA9IG5ldyBSZWNlaXZlQWNjb3VudEJsb2NrVGFzayh7CglhZGRyZXNzLAoJcHJvdmlkZXI6IHZpdGVBcGksCglzaWduOiBhc3luYyAoYmxvY2spID0mZ3Q7IHsKCQlsZXQgc2lnbmF0dXJlID0gYXdhaXQgc2lnbldpdGhIYXJkV2FsbGV0KCk7CgkJLy8gU2V0IHB1YmxpY0tleSBpZiBpdCBpc24ndCBzZXQgYWxyZWFkeQoJCWJsb2NrLnNldFB1YmxpY0tleSh0aGlzLnB1YmxpY0tleSk7CgkJLy8gU2V0IHNpZ25hdHVyZTsgdGhpcyBpcyByZXF1aXJlZC4KCQlibG9jay5zZXRTaWduYXR1cmUoc2lnbmF0dXJlKTsKCX0KfSk7Cg=="}})],1)]),e._v(" "),a("h2",{attrs:{id:"methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methods"}},[e._v("#")]),e._v(" "),a("code",[e._v("Methods")])]),e._v(" "),a("h3",{attrs:{id:"start"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#start"}},[e._v("#")]),e._v(" "),a("code",[e._v("start")])]),e._v(" "),a("p",[e._v("Start receiving transactions on an account")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Parameters")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("object")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("checkTime: number = 3000")]),e._v(" Polling interval (in milliseconds)")]),e._v(" "),a("li",[a("code",[e._v("transactionNumber: number = 5")]),e._v(" Maximum transactions to process in each poll")]),e._v(" "),a("li",[a("code",[e._v("gapTime: number = 1000")]),e._v(" Transaction processing interval (in milliseconds)")])])])])]),e._v(" "),a("li",[a("strong",[e._v("Example")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"js",base64:"cmVjZWl2ZVRhc2suc3RhcnQoewoJY2hlY2tUaW1lOiAzMDAwLAoJdHJhbnNhY3Rpb25OdW1iZXI6IDEwCn0pOwo="}})],1)]),e._v(" "),a("h3",{attrs:{id:"stop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stop"}},[e._v("#")]),e._v(" "),a("code",[e._v("stop")])]),e._v(" "),a("p",[e._v("Stop receiving transactions on an account")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Parameters")]),e._v(" "),a("ul",[a("li",[e._v("None")])])]),e._v(" "),a("li",[a("strong",[e._v("Example")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"js",base64:"cmVjZWl2ZVRhc2suc3RhcnQoewoJY2hlY2tUaW1lOiAzMDAwLAoJdHJhbnNhY3Rpb25OdW1iZXI6IDEwCn0pOwpyZWNlaXZlVGFzay5zdG9wKCk7Cg=="}})],1)]),e._v(" "),a("h3",{attrs:{id:"onerror"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onerror"}},[e._v("#")]),e._v(" "),a("code",[e._v("onError")])]),e._v(" "),a("p",[e._v("Set up a callback function which will be triggered when failed to receive a transaction")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Parameters")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("errorCB: (error) => void")]),e._v(" Callback function\n"),a("ul",[a("li",[a("code",[e._v("error")]),e._v(" object\n"),a("ul",[a("li",[a("code",[e._v("status: 'error'")])]),e._v(" "),a("li",[a("code",[e._v("timestamp: number")]),e._v(" Timestamp")]),e._v(" "),a("li",[a("code",[e._v("message: string")]),e._v(" Error message")]),e._v(" "),a("li",[a("code",[e._v("unreceivedHash?: Hex")]),e._v(" Hash of account block that failed to receive")]),e._v(" "),a("li",[a("code",[e._v("error: any")]),e._v(" RPC error message")])])])])])])]),e._v(" "),a("li",[a("strong",[e._v("Example")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"js",base64:"cmVjZWl2ZVRhc2suc3RhcnQoewoJY2hlY2tUaW1lOiAzMDAwLAoJdHJhbnNjdGlvbk51bWJlcjogMTAKfSk7CnJlY2VpdmVUYXNrLm9uRXJyb3IoKGVycm9yKSA9Jmd0OyB7Cgljb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcik7Cn0pOwo="}})],1)]),e._v(" "),a("h3",{attrs:{id:"onsuccess"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#onsuccess"}},[e._v("#")]),e._v(" "),a("code",[e._v("onSuccess")])]),e._v(" "),a("p",[e._v("Set up a callback function which will be triggered when a batch of transactions is successfully received")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Parameters")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("successCB: Function")]),e._v(" Callback function\n"),a("ul",[a("li",[a("code",[e._v("success")]),e._v(" object\n"),a("ul",[a("li",[a("code",[e._v("status: 'ok'")])]),e._v(" "),a("li",[a("code",[e._v("message: string")]),e._v(" Success message")]),e._v(" "),a("li",[a("code",[e._v("timestamp: number")]),e._v(" Timestamp")]),e._v(" "),a("li",[a("code",[e._v("accountBlockList?: AccountBlock[]")]),e._v(" A list of "),a("code",[e._v("AccountBlock")]),e._v(" that has been received")])])])])])])]),e._v(" "),a("li",[a("strong",[e._v("Example")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"js",base64:"cmVjZWl2ZVRhc2suc3RhcnQoewoJY2hlY2tUaW1lOiAzMDAwLAoJdHJhbnNjdGlvbk51bWJlcjogMTAKfSk7CnJlY2VpdmVUYXNrLm9uU3VjY2VzcygocmVzdWx0KSA9Jmd0OyB7Cgljb25zb2xlLmxvZygnc3VjY2VzcycsIHJlc3VsdCk7Cn0pOwo="}})],1)])])}),[],!1,null,null,null);c.default=s.exports}}]);