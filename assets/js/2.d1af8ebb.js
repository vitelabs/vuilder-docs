(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{611:function(t,e,o){t.exports=o.p+"assets/img/vite-express-01.a7f48243.png"},612:function(t,e,o){t.exports=o.p+"assets/img/vite-express-02.2fdfbe3f.png"},613:function(t,e,o){t.exports=o.p+"assets/img/vite-express-03.ed25bb7f.png"},614:function(t,e,o){t.exports=o.p+"assets/img/vite-express-04.34bee033.png"},615:function(t,e,o){t.exports=o.p+"assets/img/vite-express-05.f2f93863.png"},616:function(t,e,o){t.exports=o.p+"assets/img/vite-express-06.8861f452.png"},617:function(t,e,o){t.exports=o.p+"assets/img/vite-express-07.ba23997e.png"},618:function(t,e,o){t.exports=o.p+"assets/img/vite-express-08.7939b224.png"},619:function(t,e,o){t.exports=o.p+"assets/img/vite-express-09.37b04f09.png"},620:function(t,e,o){t.exports=o.p+"assets/img/vite-express-10.7cadf371.png"},621:function(t,e,o){t.exports=o.p+"assets/img/vite-express-11.53467b8c.png"},622:function(t,e,o){t.exports=o.p+"assets/img/vite-express-12.7de9677d.png"},761:function(t,e,o){"use strict";o.r(e);var d=o(0),s=Object(d.a)({},(function(){var t=this,e=t.$createElement,d=t._self._c||e;return d("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[d("h1",{attrs:{id:"buy-me-a-coffee"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#buy-me-a-coffee"}},[t._v("#")]),t._v(" Buy Me a Coffee")]),t._v(" "),d("p",[t._v("In this chapter, we will guide you to develop an entry-level dapp step by step using "),d("a",{attrs:{href:"https://github.com/vitelabs/vite-express",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vite Express"),d("OutboundLink")],1),t._v(" - the official Vite dapp template.")]),t._v(" "),d("h2",{attrs:{id:"project-overview"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#project-overview"}},[t._v("#")]),t._v(" Project Overview")]),t._v(" "),d("p",[t._v('The dapp is used to give people a way to express gratitude to someone else by "buying" them a coffee in the form of sending them VITE.')]),t._v(" "),d("p",[t._v("The dapp's main page will look like this:")]),t._v(" "),d("p",[d("img",{attrs:{src:o(611),alt:""}})]),t._v(" "),d("h2",{attrs:{id:"running-the-dapp-from-scratch"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#running-the-dapp-from-scratch"}},[t._v("#")]),t._v(" Running the Dapp From Scratch")]),t._v(" "),d("p",[t._v("In this section, we will show you how to set up the environment and build the dapp from existing code.")]),t._v(" "),d("h3",{attrs:{id:"install-node-js"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#install-node-js"}},[t._v("#")]),t._v(" Install Node.js")]),t._v(" "),d("p",[t._v("Node.js is a cross-platform, JavaScript runtime environment.")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bm9kZSAtdiAvLyBjaGVjayBub2RlLmpzIHZlcnNpb24K"}}),t._v(" "),d("p",[t._v("The node.js version used for this project is v14.18.1. We recommend using "),d("code",[t._v("nvm")]),t._v(" to install and manage the node.js environment.")]),t._v(" "),d("p",[t._v("Install "),d("code",[t._v("nvm")]),t._v(" from https://github.com/nvm-sh/nvm.")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y3VybCAtby0gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL252bS1zaC9udm0vdjAuMzkuMS9pbnN0YWxsLnNoIHwgYmFzaAo="}}),t._v(" "),d("p",[t._v("Now close the current terminal and start a new one")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Y29tbWFuZCAtdiBudm0gIC8vIENoZWNrIGlmIHRoZSBpbnN0YWxsYXRpb24gaXMgc3VjY2Vzc2Z1bApudm0gbHMtcmVtb3RlIC8vIENoZWNrIGF2YWlsYWJsZSBub2RlLmpzIHZlcnNpb25zIApudm0gbGlzdCAvLyBDaGVjayBpbnN0YWxsZWQgbm9kZS5qcyB2ZXJzaW9ucyAKbnZtIGluc3RhbGwgdjE0LjE4LjEgLy8gSW5zdGFsbCBub2RlLmpzIHYxNC4xOC4xCg=="}}),t._v(" "),d("h3",{attrs:{id:"get-the-source-code"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#get-the-source-code"}},[t._v("#")]),t._v(" Get the Source Code")]),t._v(" "),d("p",[t._v("Get the source code with Git.")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlbGFicy92aXRlLWV4cHJlc3MK"}}),t._v(" "),d("h3",{attrs:{id:"install-dependencies"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#install-dependencies"}},[t._v("#")]),t._v(" Install Dependencies")]),t._v(" "),d("p",[t._v("This will install all dependencies according to "),d("code",[t._v("vite-express/package.json")]),t._v(".")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y2Qgdml0ZS1leHByZXNzCm5wbSBpbnN0YWxsIAo="}}),t._v(" "),d("h3",{attrs:{id:"test-contract-with-vuilder-kit"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#test-contract-with-vuilder-kit"}},[t._v("#")]),t._v(" Test Contract with "),d("code",[t._v("Vuilder Kit")]),t._v(".")]),t._v(" "),d("p",[d("strong",[t._v("Vuilder")]),t._v(" is a Solidity++ smart contract development kit designed for easy contract compilation, testing, and deployment in JavaScript. Refer to "),d("RouterLink",{attrs:{to:"/soliditypp/Vuilder/"}},[t._v("Vuilder Kit")]),t._v(" for details.")],1),t._v(" "),d("p",[t._v("Run the test with the following command:")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bnB4IHZ1aWxkZXIgdGVzdAo="}}),t._v(" "),d("h3",{attrs:{id:"set-up-wallet"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#set-up-wallet"}},[t._v("#")]),t._v(" Set Up Wallet")]),t._v(" "),d("p",[t._v("Before deploying your contract, create a "),d("a",{attrs:{href:"https://buidl.vite.net/startLogin",target:"_blank",rel:"noopener noreferrer"}},[t._v("testnet wallet"),d("OutboundLink")],1),t._v(" and supply your address with quota.")]),t._v(" "),d("p",[d("img",{attrs:{src:o(612),alt:""}})]),t._v(" "),d("p",[t._v("Go to the "),d("a",{attrs:{href:"https://discordapp.com/invite/CsVY76q",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vite Discord"),d("OutboundLink")],1),t._v(" "),d("strong",[t._v("ðŸš°â”‚testnet-faucet")]),t._v(" channel and send the following message to receive 10,000 Vite on testnet.")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"IXNlbmQgJmx0O3ZpdGVfd2FsbGV0QWRkcmVzcyZndDsK"}}),t._v(" "),d("p",[t._v("Then lock 1000 VITE on testnet for your wallet address to get "),d("a",{attrs:{href:"https://docs.vite.org/vite-docs/reference/quota.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Quota"),d("OutboundLink")],1)]),t._v(" "),d("blockquote",[d("p",[t._v("Note: Quota is required for deploying contracts. Insufficient quota in the address will cause the contract deployment to fail.")])]),t._v(" "),d("p",[d("img",{attrs:{src:o(613),alt:""}})]),t._v(" "),d("h3",{attrs:{id:"deploy-the-contract"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#deploy-the-contract"}},[t._v("#")]),t._v(" Deploy the Contract")]),t._v(" "),d("p",[t._v("Now let's deploy the contract to testnet.")]),t._v(" "),d("p",[t._v("Modify "),d("code",[t._v("scripts/deploy.config.json")]),t._v(" to use your testnet wallet's mnemonic  phrase obtained.")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICZxdW90O2h0dHAmcXVvdDs6ICZxdW90O2h0dHBzOi8vYnVpZGwudml0ZS5uZXQvZ3ZpdGUmcXVvdDssCiAgJnF1b3Q7bW5lbW9uaWMmcXVvdDs6ICZxdW90OyZsdDt5b3VyX21uZW1vbmljX3BocmFzZSZndDsmcXVvdDsKfQo="}}),t._v(" "),d("p",[t._v("Run the following command to deploy the contract:")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bnB4IHRzLW5vZGUgc2NyaXB0cy9kZXBsb3kudHMK"}}),t._v(" "),d("p",[t._v("You will get the contract address after the step is complete. Next, we will lock 1000 VITE for the contract address to obtain Quota.")]),t._v(" "),d("blockquote",[d("p",[t._v("Rule of thumb: always supply your contract with quota. Unlike Ethereum, Vite's smart contract will consume quota to operate. Insufficient quota may cause the contract to hang up (i.e. stop processing transactions).")])]),t._v(" "),d("p",[d("img",{attrs:{src:o(614),alt:""}})]),t._v(" "),d("h3",{attrs:{id:"run-the-dapp"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#run-the-dapp"}},[t._v("#")]),t._v(" Run the Dapp")]),t._v(" "),d("p",[t._v("The frontend is made with "),d("a",{attrs:{href:"https://www.typescriptlang.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("TypeScript"),d("OutboundLink")],1),t._v(", "),d("a",{attrs:{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("React"),d("OutboundLink")],1),t._v(", "),d("a",{attrs:{href:"https://github.com/vitelabs/vite.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("ViteJS"),d("OutboundLink")],1),t._v(", and "),d("a",{attrs:{href:"https://tailwindcss.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tailwind CSS"),d("OutboundLink")],1),t._v(". Modify "),d("code",[t._v("frontend/src/contracts/Cafe.ts")]),t._v(" by updating your contract address.")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"ts",base64:"Y29uc3QgQ2FmZSA9IHsKCWFkZHJlc3M6IHsKCQltYWlubmV0OiAnJywKCQl0ZXN0bmV0OiAnJmx0O3ZpdGVfY29udHJhY3RfYWRkcmVzcyZndDsnLAoJCWxvY2FsbmV0OiAnJywKCX0sCiAgLy8gLi4uCn0K"}}),t._v(" "),d("p",[t._v("Execute the following commands to launch the dapp:")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Y2QgZnJvbnRlbmQKbnBtIGluc3RhbGwKbnBtIHJ1biBkZXYK"}}),t._v(" "),d("p",[t._v('A new browser window (http://localhost:3000/) should open and by clicking "Launch App", it will take you to this page:')]),t._v(" "),d("p",[d("img",{attrs:{src:o(615),alt:""}})]),t._v(" "),d("h3",{attrs:{id:"vite-wallet-app"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#vite-wallet-app"}},[t._v("#")]),t._v(" Vite Wallet App")]),t._v(" "),d("p",[t._v("To start using the dapp, you will need your Vite Wallet app ("),d("a",{attrs:{href:"https://apps.apple.com/us/app/vite-multi-chain-wallet/id1437629486",target:"_blank",rel:"noopener noreferrer"}},[t._v("iOS"),d("OutboundLink")],1),t._v(" / "),d("a",{attrs:{href:"https://play.google.com/store/apps/details?id=net.vite.wallet",target:"_blank",rel:"noopener noreferrer"}},[t._v("Android"),d("OutboundLink")],1),t._v(") ready. Then switch the node setting of your to testnet.\n"),d("img",{attrs:{src:o(616),alt:""}})]),t._v(" "),d("h3",{attrs:{id:"vite-passport-browser-extension"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#vite-passport-browser-extension"}},[t._v("#")]),t._v(" Vite Passport Browser Extension")]),t._v(" "),d("p",[t._v("Alternatively, you can use the "),d("a",{attrs:{href:"https://chrome.google.com/webstore/detail/vite-passport/eckbjklobbepbbcklkjjgkkkpdakglmf",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vite Passport"),d("OutboundLink")],1),t._v(" browser extension. Be sure to switch the network to Testnet after creating a wallet for this tutorial.")]),t._v(" "),d("h3",{attrs:{id:"buy-a-coffee"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#buy-a-coffee"}},[t._v("#")]),t._v(" Buy a Coffee")]),t._v(" "),d("p",[t._v('This section will show you how to use the dapp to "buy" a coffee for someone.')]),t._v(" "),d("p",[t._v('First, connect to the dapp by clicking "Connect Wallet". Then scan the QR code with your Vite Wallet app.\n'),d("img",{attrs:{src:o(617),alt:""}})]),t._v(" "),d("p",[t._v("Type in the recipient's Vite address and Vite amount in the inputs or optionally add them to the URL like this:")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"aHR0cDovL2xvY2FsaG9zdDozMDAwL2FwcD9hZGRyZXNzPXJlY2lwaWVudF9hZGRyZXNzJmFtcDthbW91bnQ9YW1vdW50Cg=="}}),t._v(" "),d("p",[d("img",{attrs:{src:o(618),alt:""}})]),t._v(" "),d("p",[t._v('Next, click "Buy Coffee" and confirm the transaction on your connected Vite Wallet app; the tokens should have transferred to the recipient\'s address!')]),t._v(" "),d("p",[t._v("You will see this when the transaction hasn't been confirmed yet:\n"),d("img",{attrs:{src:o(619),alt:""}})]),t._v(" "),d("p",[t._v("When you confirm the transaction, a toast is shown at the top and the inputs are reset:\n"),d("img",{attrs:{src:o(620),alt:""}})]),t._v(" "),d("h3",{attrs:{id:"coffee-history"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#coffee-history"}},[t._v("#")]),t._v(" Coffee History")]),t._v(" "),d("p",[t._v('To view past coffee transactions, click "History" in the header to go to http://localhost:3000/history.')]),t._v(" "),d("p",[d("img",{attrs:{src:o(621),alt:""}})]),t._v(" "),d("p",[t._v("That covers all the major features of the dapp! Of course, the recipient does not receive a real cup of coffee, but this is a good starting point for cafes thinking about accepting orders through their website ðŸ˜ƒ")]),t._v(" "),d("p",[t._v("In the next section, we will look at the code to learn how the dapp is built.")]),t._v(" "),d("h2",{attrs:{id:"develop-the-dapp"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#develop-the-dapp"}},[t._v("#")]),t._v(" Develop the Dapp")]),t._v(" "),d("p",[t._v("In general, there are four steps in building a complete dapp: initializing the project, writing the smart contracts, using "),d("a",{attrs:{href:"https://github.com/vitelabs/vuilder",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuilder"),d("OutboundLink")],1),t._v(" to test/deploy the contracts, and developing a frontend to interact with the contracts.")]),t._v(" "),d("h3",{attrs:{id:"initialize-the-project"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#initialize-the-project"}},[t._v("#")]),t._v(" Initialize the Project")]),t._v(" "),d("p",[t._v("To get started in the right direction for building Vite dapps, clone "),d("a",{attrs:{href:"https://github.com/vitelabs/vite-express",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vite Express"),d("OutboundLink")],1),t._v(" and use it as a starter kit to build off of.")]),t._v(" "),d("h3",{attrs:{id:"write-contract"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#write-contract"}},[t._v("#")]),t._v(" Write Contract")]),t._v(" "),d("p",[t._v("It's recommended to write the smart contract with the "),d("RouterLink",{attrs:{to:"/soliditypp/IDE/"}},[t._v("VSCode Solidity++ Extension")]),t._v(". In Vite Express, there is one contract in "),d("code",[t._v("contracts/Cafe.solpp")]),t._v(".")],1),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"solidity",base64:"Ly8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEdQTC0zLjAKLy8gYnV5IG1lIGEgY29mZmVlCgpwcmFnbWEgc29saWRpdHlwcCAmZ3Q7PTAuOC4wOwoKY29udHJhY3QgQ2FmZSB7CgogIHVpbnQyNTYgcHVibGljIHByaWNlID0gMTAqKjE4OwoKICB2aXRldG9rZW4gcHVibGljIGNvbnN0YW50IFZJVEUgPSAmcXVvdDt0dGlfNTY0OTU0NDUyMDU0NGY0YjQ1NGU2ZTQwJnF1b3Q7OwoKICBldmVudCBCdXkoYWRkcmVzcyBmcm9tLCBhZGRyZXNzIHRvLCB1aW50MjU2IG51bSk7CgogICBjb25zdHJ1Y3RvcigpIHBheWFibGUge30KCiAgIC8vIFJlY2VpdmUgVG9rZW4gZnVuY3Rpb24KICAgcmVjZWl2ZSgpIGV4dGVybmFsIHBheWFibGUge30KCiAgIGZ1bmN0aW9uIGJ1eUNvZmZlZShhZGRyZXNzIHBheWFibGUgdG8sIHVpbnQyNTYgbnVtT2ZDdXBzKSBwYXlhYmxlIGV4dGVybmFsIHsKICAgICAgcmVxdWlyZShtc2cudG9rZW4gPT0gVklURSwgJnF1b3Q7cmVxdWlyZSB2aXRlJnF1b3Q7KTsKICAgICAgcmVxdWlyZShtc2cudmFsdWUgJmd0Oz0gcHJpY2UqbnVtT2ZDdXBzLCAmcXVvdDtlbm91Z2ggdG8gYnV5IGNvZmZlZSZxdW90Oyk7CgogICAgICAvLyBzZW5kIFZJVEUgdG8gYHRvYAogICAgICB0by50cmFuc2ZlcihWSVRFLCBwcmljZSAqIG51bU9mQ3Vwcyk7CgogICAgICBlbWl0IEJ1eShtc2cuc2VuZGVyLCB0bywgbnVtT2ZDdXBzKTsKICAgfQp9Cg=="}}),t._v(" "),d("h4",{attrs:{id:"compile-contract"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#compile-contract"}},[t._v("#")]),t._v(" Compile Contract")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bnB4IHZ1aWxkZXIgY29tcGlsZSBDYWZlLnNvbHBwCg=="}}),t._v(" "),d("blockquote",[d("p",[t._v("Note: You should execute the command under "),d("code",[t._v("/vite-express")]),t._v(" rather than "),d("code",[t._v("/vite-express/contracts")]),t._v(". Otherwise Vuilder will report the following message: Error: ENOENT: no such file or directory, open './contracts/Cafe.solpp'.")])]),t._v(" "),d("h3",{attrs:{id:"test-contract"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#test-contract"}},[t._v("#")]),t._v(" Test Contract")]),t._v(" "),d("p",[t._v("In "),d("code",[t._v("test/vite.config.json")]),t._v(", your settings should look like the following and not be modified due to the mnemonic phrase for the local network has been set up by default.")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICZxdW90O25ldHdvcmtzJnF1b3Q7OiB7CiAgICAmcXVvdDtsb2NhbCZxdW90OzogewogICAgICAmcXVvdDtodHRwJnF1b3Q7OiAmcXVvdDtodHRwOi8vMTI3LjAuMC4xOjIzNDU2LyZxdW90OywKICAgICAgJnF1b3Q7d3MmcXVvdDs6ICZxdW90O2h0dHA6Ly8xMjcuMC4wLjE6MjM0NTcvJnF1b3Q7LAogICAgICAmcXVvdDttbmVtb25pYyZxdW90OzogJnF1b3Q7cmVjb3JkIGRlbGl2ZXIgaW5jcmVhc2Ugb3JnYW4gc3ViamVjdCB3aGlzcGVyIHByaXZhdGUgdG91cmlzdCBmaW5hbCBhdGhsZXRlIHVuaXQgamFja2V0IGFycm93IHRyaWNrIHN3ZWV0IGNodWNrbGUgZGlyZWN0IHByaW50IG1hc3RlciBwb3N0IHNlbmlvciBwbHVjayB3aGFsZSB0YXhpJnF1b3Q7CiAgICB9CiAgfQp9Cg=="}}),t._v(" "),d("h4",{attrs:{id:"write-unit-tests"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#write-unit-tests"}},[t._v("#")]),t._v(" Write Unit Tests")]),t._v(" "),d("p",[t._v("The "),d("code",[t._v("test")]),t._v(" folder contains all the unit tests. Vite Express currently only has one at "),d("code",[t._v("test/Cafe.spec.ts")])]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"ts",base64:"aW1wb3J0IHsgZGVzY3JpYmUgfSBmcm9tICZxdW90O21vY2hhJnF1b3Q7OwppbXBvcnQgeyBleHBlY3QgfSBmcm9tICZxdW90O2NoYWkmcXVvdDs7CmltcG9ydCAqIGFzIHZ1aWxkZXIgZnJvbSAmcXVvdDtAdml0ZS92dWlsZGVyJnF1b3Q7OwppbXBvcnQgY29uZmlnIGZyb20gJnF1b3Q7Li92aXRlLmNvbmZpZy5qc29uJnF1b3Q7OwoKbGV0IHByb3ZpZGVyOiBhbnk7CmxldCBkZXBsb3llcjogdnVpbGRlci5Vc2VyQWNjb3VudDsKCmRlc2NyaWJlKCZxdW90O3Rlc3QgQ2FmZSZxdW90OywgKCkgPSZndDsgewogIGJlZm9yZShhc3luYyBmdW5jdGlvbigpIHsKICAgIHByb3ZpZGVyID0gdnVpbGRlci5uZXdQcm92aWRlcihjb25maWcubmV0d29ya3MubG9jYWwuaHR0cCk7CiAgICBjb25zb2xlLmxvZyhhd2FpdCBwcm92aWRlci5yZXF1ZXN0KCZxdW90O2xlZGdlcl9nZXRTbmFwc2hvdENoYWluSGVpZ2h0JnF1b3Q7KSk7CiAgICBkZXBsb3llciA9IHZ1aWxkZXIubmV3QWNjb3VudChjb25maWcubmV0d29ya3MubG9jYWwubW5lbW9uaWMsIDAsIHByb3ZpZGVyKTsKICAgIGNvbnNvbGUubG9nKCdkZXBsb3llcicsIGRlcGxveWVyLmFkZHJlc3MpOwogIH0pOwoKICBpdCgmcXVvdDt0ZXN0IGJ1eSBjb2ZmZWUmcXVvdDssIGFzeW5jICgpID0mZ3Q7IHsKICAgIC8vIGNvbXBpbGUKICAgIGNvbnN0IGNvbXBpbGVkQ29udHJhY3RzID0gYXdhaXQgdnVpbGRlci5jb21waWxlKCZxdW90O0NhZmUuc29scHAmcXVvdDspOwogICAgZXhwZWN0KGNvbXBpbGVkQ29udHJhY3RzKS50by5oYXZlLnByb3BlcnR5KCZxdW90O0NhZmUmcXVvdDspOwoKICAgIC8vIGRlcGxveQogICAgbGV0IGNhZmUgPSBjb21waWxlZENvbnRyYWN0cy5DYWZlOwogICAgY2FmZS5zZXREZXBsb3llcihkZXBsb3llcikuc2V0UHJvdmlkZXIocHJvdmlkZXIpOwogICAgYXdhaXQgY2FmZS5kZXBsb3koe30pOwogICAgZXhwZWN0KGNhZmUuYWRkcmVzcykudG8uYmUuYSgmcXVvdDtzdHJpbmcmcXVvdDspOwogICAgY29uc29sZS5sb2coY2FmZS5hZGRyZXNzKTsKCiAgICAvLyBjaGVjayBkZWZhdWx0IGJhbGFuY2UKICAgIGV4cGVjdChhd2FpdCBjYWZlLmJhbGFuY2UoKSkudG8uYmUuZXF1YWwoJzAnKTsKICAgIC8vIGNoZWNrIGRlZmF1bHQgdmFsdWUgb2YgZGF0YQogICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNhZmUucXVlcnkoJnF1b3Q7cHJpY2UmcXVvdDssIFtdKTsKICAgIGNvbnNvbGUubG9nKCZxdW90O3JldHVybiZxdW90OywgcmVzdWx0KTsKICAgIGV4cGVjdChyZXN1bHQpCiAgICAgIC50by5iZS5hbigmcXVvdDthcnJheSZxdW90OykKICAgICAgLndpdGgubGVuZ3RoT2YoMSk7CiAgICBleHBlY3QocmVzdWx0IVswXSkudG8uYmUuZXF1YWwoJnF1b3Q7MTAwMDAwMDAwMDAwMDAwMDAwMCZxdW90Oyk7CgogICAgLy8gY2FsbCBDYWZlLmJ1eUNvZmZlZSh0bywgbnVtT2ZDdXBzKTsKICAgIGNvbnN0IGJsb2NrID0gYXdhaXQgY2FmZS5jYWxsKAogICAgICAmcXVvdDtidXlDb2ZmZWUmcXVvdDssCiAgICAgIFsmcXVvdDt2aXRlXzMzNDU1MjRhYmY2YmJlMTgwOTQ0OTIyNGI1OTcyYzQxNzkwYjZjZjJlMjJmY2I1Y2FmJnF1b3Q7LCAyXSwKICAgICAgeyBhbW91bnQ6ICZxdW90OzIwMDAwMDAwMDAwMDAwMDAwMDAmcXVvdDsgfQogICAgKTsKCiAgICBjb25zdCBldmVudHMgPSBhd2FpdCBjYWZlLmdldFBhc3RFdmVudHMoJ0J1eScsIHtmcm9tSGVpZ2h0OiBibG9jay5oZWlnaHQsIHRvSGVpZ2h0OiBibG9jay5oZWlnaHR9KTsKICAgIGV4cGVjdChldmVudHMpCiAgICAgIC50by5iZS5hbigmcXVvdDthcnJheSZxdW90OykKICAgICAgLndpdGgubGVuZ3RoT2YoMSk7CiAgICBleHBlY3QoZXZlbnRzWzBdPy5yZXR1cm5WYWx1ZXM/LmZyb20pLnRvLmJlLmVxdWFsKGRlcGxveWVyLmFkZHJlc3MpOwogICAgZXhwZWN0KGV2ZW50c1swXT8ucmV0dXJuVmFsdWVzPy50bykudG8uYmUuZXF1YWwoCiAgICAgICZxdW90O3ZpdGVfMzM0NTUyNGFiZjZiYmUxODA5NDQ5MjI0YjU5NzJjNDE3OTBiNmNmMmUyMmZjYjVjYWYmcXVvdDsKICAgICk7CiAgICBleHBlY3QoZXZlbnRzWzBdPy5yZXR1cm5WYWx1ZXM/Lm51bSkudG8uYmUuZXF1YWwoJnF1b3Q7MiZxdW90Oyk7CgogICAgZXhwZWN0KGF3YWl0IGNhZmUuYmFsYW5jZSgpKS50by5iZS5lcXVhbCgnMCcpOwogIH0pOwp9KTsK"}}),t._v(" "),d("h4",{attrs:{id:"run-unit-tests"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#run-unit-tests"}},[t._v("#")]),t._v(" Run Unit Tests")]),t._v(" "),d("p",[t._v("Run your tests on the local debug network like this:")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bnB4IHZ1aWxkZXIgdGVzdAo="}}),t._v(" "),d("blockquote",[d("p",[t._v("Note: You can specify another network in "),d("code",[t._v("test/vite.config.json")]),t._v(". However we strongly recommend you use the local network for testing purposes.")])]),t._v(" "),d("h3",{attrs:{id:"deploy-contract"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#deploy-contract"}},[t._v("#")]),t._v(" Deploy Contract")]),t._v(" "),d("h4",{attrs:{id:"specify-the-network-and-wallet-for-deployment"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#specify-the-network-and-wallet-for-deployment"}},[t._v("#")]),t._v(" Specify the Network and Wallet for Deployment")]),t._v(" "),d("p",[t._v("In "),d("code",[t._v("scripts/deploy.config.json")]),t._v(", modify it to use your testnet wallet's mnemonic phrase.")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"json",base64:"ewogICZxdW90O2h0dHAmcXVvdDs6ICZxdW90O2h0dHBzOi8vYnVpZGwudml0ZS5uZXQvZ3ZpdGUmcXVvdDssCiAgJnF1b3Q7bW5lbW9uaWMmcXVvdDs6ICZxdW90O3lvdXIgbW5lbW9uaWMgcGhyYXNlJnF1b3Q7Cn0K"}}),t._v(" "),d("blockquote",[d("p",[t._v("Note: You can deploy the contract to the testnet or mainnet. For testnet the http endpoint is "),d("code",[t._v("https://buidl.vite.net/gvite")]),t._v(". For mainnet, it is "),d("code",[t._v("https://node.vite.net/gvite")]),t._v(".")])]),t._v(" "),d("h4",{attrs:{id:"deploy-script"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#deploy-script"}},[t._v("#")]),t._v(" Deploy Script")]),t._v(" "),d("p",[t._v("The script to deploy your contract is in "),d("code",[t._v("scripts/deploy.ts")]),t._v(".")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"ts",base64:"aW1wb3J0IHsgZXhwZWN0IH0gZnJvbSAmcXVvdDtjaGFpJnF1b3Q7OwppbXBvcnQgKiBhcyB2dWlsZGVyIGZyb20gJnF1b3Q7QHZpdGUvdnVpbGRlciZxdW90OzsKaW1wb3J0IGNvbmZpZyBmcm9tICZxdW90Oy4vZGVwbG95LmNvbmZpZy5qc29uJnF1b3Q7OwoKYXN5bmMgZnVuY3Rpb24gcnVuKCk6IFByb21pc2UmbHQ7dm9pZCZndDsgewogIGNvbnN0IHByb3ZpZGVyID0gdnVpbGRlci5uZXdQcm92aWRlcihjb25maWcuaHR0cCk7CiAgY29uc29sZS5sb2coYXdhaXQgcHJvdmlkZXIucmVxdWVzdCgmcXVvdDtsZWRnZXJfZ2V0U25hcHNob3RDaGFpbkhlaWdodCZxdW90OykpOwogIGNvbnN0IGRlcGxveWVyID0gdnVpbGRlci5uZXdBY2NvdW50KGNvbmZpZy5tbmVtb25pYywgMCwgcHJvdmlkZXIpOwoKICAvLyBjb21waWxlCiAgY29uc3QgY29tcGlsZWRDb250cmFjdHMgPSBhd2FpdCB2dWlsZGVyLmNvbXBpbGUoJnF1b3Q7Q2FmZS5zb2xwcCZxdW90Oyk7CiAgZXhwZWN0KGNvbXBpbGVkQ29udHJhY3RzKS50by5oYXZlLnByb3BlcnR5KCZxdW90O0NhZmUmcXVvdDspOwoKICAvLyBkZXBsb3kKICBsZXQgY2FmZSA9IGNvbXBpbGVkQ29udHJhY3RzLkNhZmU7CiAgY2FmZS5zZXREZXBsb3llcihkZXBsb3llcikuc2V0UHJvdmlkZXIocHJvdmlkZXIpOwogIGF3YWl0IGNhZmUuZGVwbG95KHt9KTsKICBleHBlY3QoY2FmZS5hZGRyZXNzKS50by5iZS5hKCZxdW90O3N0cmluZyZxdW90Oyk7CiAgY29uc29sZS5sb2coY2FmZS5hZGRyZXNzKTsKCiAgLy8gc3Rha2UgcXVvdGEKICBhd2FpdCBkZXBsb3llci5zdGFrZUZvclF1b3RhKHtiZW5lZmljaWFyeUFkZHJlc3M6IGNhZmUuYWRkcmVzcywgYW1vdW50OiZxdW90OzIwMDEwMDAwMDAwMDAwMDAwMDAwMDAmcXVvdDt9KTsKCiAgcmV0dXJuOwp9CgpydW4oKS50aGVuKCgpID0mZ3Q7IHsKICBjb25zb2xlLmxvZygmcXVvdDtkb25lJnF1b3Q7KTsKfSk7Cg=="}}),t._v(" "),d("h4",{attrs:{id:"run-deploy-script"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#run-deploy-script"}},[t._v("#")]),t._v(" Run Deploy Script")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bnB4IHRzLW5vZGUgc2NyaXB0cy9kZXBsb3kudHMK"}}),t._v(" "),d("blockquote",[d("p",[t._v("Note: Once the contract is deployed on the blockchain, don't forget to supply quota for the contract address.")])]),t._v(" "),d("h2",{attrs:{id:"frontend-architecture"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#frontend-architecture"}},[t._v("#")]),t._v(" Frontend Architecture")]),t._v(" "),d("p",[t._v("The default frontend for Vite Express has many React components and helper files, This section will explain the files you will need to familiarize yourself with the most to start building on top of Vite Express.")]),t._v(" "),d("p",[t._v("The file structure of the frontend is as follows:")]),t._v(" "),d("p",[d("img",{attrs:{src:o(622),alt:""}})]),t._v(" "),d("p",[t._v("The frontend app is rendered with "),d("code",[t._v("frontend/index.html")]),t._v(" and "),d("code",[t._v("frontend/src/main.tsx")]),t._v(" "),d("code",[t._v("frontend/index.html")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"html",base64:"Jmx0OyFET0NUWVBFIGh0bWwmZ3Q7CiZsdDtodG1sIGxhbmc9JnF1b3Q7ZW4mcXVvdDsmZ3Q7CgkmbHQ7aGVhZCZndDsKCQkmbHQ7bWV0YSBjaGFyc2V0PSZxdW90O1VURi04JnF1b3Q7IC8mZ3Q7CgkJJmx0O2xpbmsgcmVsPSZxdW90O2ljb24mcXVvdDsgaHJlZj0mcXVvdDsvZmF2aWNvbi5wbmcmcXVvdDsgLyZndDsKCQkmbHQ7bWV0YSBuYW1lPSZxdW90O3ZpZXdwb3J0JnF1b3Q7IGNvbnRlbnQ9JnF1b3Q7d2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCZxdW90OyAvJmd0OwoJCSZsdDt0aXRsZSZndDtWaXRlIEV4cHJlc3MmbHQ7L3RpdGxlJmd0OwoJJmx0Oy9oZWFkJmd0OwoJJmx0O2JvZHkmZ3Q7CgkJJmx0O2RpdiBpZD0mcXVvdDtyb290JnF1b3Q7Jmd0OyZsdDsvZGl2Jmd0OwoJCSZsdDtkaXYgaWQ9JnF1b3Q7bW9kYWwmcXVvdDsmZ3Q7Jmx0Oy9kaXYmZ3Q7CgkJJmx0O2RpdiBpZD0mcXVvdDt0b2FzdCZxdW90OyZndDsmbHQ7L2RpdiZndDsKCQkmbHQ7c2NyaXB0IHR5cGU9JnF1b3Q7bW9kdWxlJnF1b3Q7IHNyYz0mcXVvdDsvc3JjL21haW4udHN4JnF1b3Q7Jmd0OyZsdDsvc2NyaXB0Jmd0OwoJJmx0Oy9ib2R5Jmd0OwombHQ7L2h0bWwmZ3Q7Cgo="}}),t._v(" "),d("p",[d("code",[t._v("frontend/src/main.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"aW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbS9jbGllbnQnOwppbXBvcnQgQXBwIGZyb20gJy4vY29tcG9uZW50cy9BcHAnOwoKY29uc3Qgcm9vdCA9IFJlYWN0RE9NLmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jvb3QnKSBhcyBIVE1MRWxlbWVudCk7CnJvb3QucmVuZGVyKCZsdDtBcHAgLyZndDspOwoK"}}),t._v(" "),d("h3",{attrs:{id:"app-component"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#app-component"}},[t._v("#")]),t._v(" App Component")]),t._v(" "),d("p",[t._v("The "),d("code",[t._v("App")]),t._v(" component is the root of the app and wraps the entire app with the "),d("code",[t._v("Provider")]),t._v(" component, a global "),d("a",{attrs:{href:"https://reactjs.org/docs/context.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("context"),d("OutboundLink")],1),t._v(" which acts as the global state that any child component can connect to. Before rendering anything, it first uses your browser's "),d("code",[t._v("localStorage")]),t._v(" to determine the initial app state; this includes:")]),t._v(" "),d("ul",[d("li",[d("code",[t._v("vcInstance")]),t._v(" - An instance of the "),d("code",[t._v("VC")]),t._v(" class defined in "),d("code",[t._v("frontend/src/utils/viteConnect.ts")]),t._v(" which helps you manage the Vite Wallet app connected via ViteConnect")]),t._v(" "),d("li",[d("code",[t._v("vpAddress")]),t._v(" - The address of the Vite Passport wallet if it is connected")]),t._v(" "),d("li",[d("code",[t._v("activeNetworkIndex")]),t._v(" - The index of the active network in "),d("code",[t._v("networkList")]),t._v(" in "),d("code",[t._v("frontend/src/utils/constants.ts")])]),t._v(" "),d("li",[d("code",[t._v("languageType")]),t._v(" - Initially only English, but you can add your own translations in the "),d("code",[t._v("frontend/src/i18n")]),t._v(" folder")]),t._v(" "),d("li",[d("code",[t._v("activeAddress")]),t._v(" - The address from the connected Vite Passport or App wallet (Both shouldn't be able to connect at the same time)")])]),t._v(" "),d("p",[d("code",[t._v("frontend/src/App.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"Y29uc3QgQXBwID0gKCkgPSZndDsgewoJY29uc3QgW2luaXRpYWxTdGF0ZSwgaW5pdGlhbFN0YXRlU2V0XSA9IHVzZVN0YXRlJmx0O29iamVjdCZndDsoKTsKCXVzZUVmZmVjdCgoKSA9Jmd0OyB7CgkJKGFzeW5jICgpID0mZ3Q7IHsKCQkJY29uc3QgdmNTZXNzaW9uID0gZ2V0VmFsaWRWQ1Nlc3Npb24oKTsKCQkJY29uc3QgdmNJbnN0YW5jZSA9IHZjU2Vzc2lvbiA/IGluaXRWaXRlQ29ubmVjdCh2Y1Nlc3Npb24pIDogdW5kZWZpbmVkOwoJCQlsZXQgdnBBZGRyZXNzOiB1bmRlZmluZWQgfCBzdHJpbmc7CgkJCWxldCBhY3RpdmVOZXR3b3JrSW5kZXg6IHVuZGVmaW5lZCB8IG51bWJlcjsKCgkJCWlmICh3aW5kb3c/LnZpdGVQYXNzcG9ydCkgewoJCQkJdnBBZGRyZXNzID0gYXdhaXQgd2luZG93LnZpdGVQYXNzcG9ydC5nZXRDb25uZWN0ZWRBZGRyZXNzKCk7CgkJCQlpZiAodnBBZGRyZXNzKSB7CgkJCQkJY29uc3QgYWN0aXZlTmV0d29yayA9IGF3YWl0IHdpbmRvdy52aXRlUGFzc3BvcnQuZ2V0TmV0d29yaygpOwoJCQkJCWFjdGl2ZU5ldHdvcmtJbmRleCA9IG5ldHdvcmtMaXN0LmZpbmRJbmRleCgobikgPSZndDsgbi5ycGNVcmwgPT09IGFjdGl2ZU5ldHdvcmsucnBjVXJsKTsKCQkJCX0KCQkJfQoJCQlpZiAoYWN0aXZlTmV0d29ya0luZGV4ID09PSB1bmRlZmluZWQgfHwgYWN0aXZlTmV0d29ya0luZGV4ID09PSAtMSkgewoJCQkJYWN0aXZlTmV0d29ya0luZGV4ID0gbG9jYWxTdG9yYWdlLmFjdGl2ZU5ldHdvcmtJbmRleCB8fCAwOwoJCQl9CgoJCQljb25zdCBzdGF0ZTogUGFydGlhbCZsdDtTdGF0ZSZndDsgPSB7CgkJCQl2Y0luc3RhbmNlLAoJCQkJdnBBZGRyZXNzLAoJCQkJYWN0aXZlTmV0d29ya0luZGV4LAoJCQkJbGFuZ3VhZ2VUeXBlOiBsb2NhbFN0b3JhZ2UubGFuZ3VhZ2VUeXBlIHx8ICdlbicsCgkJCQlhY3RpdmVBZGRyZXNzOiB2cEFkZHJlc3MgfHwgdmNJbnN0YW5jZT8uYWNjb3VudHM/LlswXSwKCQkJfTsKCQkJaW5pdGlhbFN0YXRlU2V0KHN0YXRlKTsKCQl9KSgpOwoJfSwgW10pOwoKCXJldHVybiBpbml0aWFsU3RhdGUgPyAoCgkJJmx0O1Byb3ZpZGVyIGluaXRpYWxTdGF0ZT17aW5pdGlhbFN0YXRlfSZndDsKCQkJJmx0O1JvdXRlciAvJmd0OwoJCSZsdDsvUHJvdmlkZXImZ3Q7CgkpIDogbnVsbDsKfTsK"}}),t._v(" "),d("h3",{attrs:{id:"router-component"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#router-component"}},[t._v("#")]),t._v(" Router Component")]),t._v(" "),d("p",[t._v("The "),d("code",[t._v("Router")]),t._v(" component uses "),d("a",{attrs:{href:"https://reactrouter.com/docs/en/v6",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Router v6"),d("OutboundLink")],1),t._v(" to enable client-side routing. Every component used for a "),d("code",[t._v("Route")]),t._v("'s "),d("code",[t._v("element")]),t._v(" prop is put in the "),d("code",[t._v("pages")]),t._v(" folder and all the "),d("code",[t._v("Route")]),t._v("s are wrapped with the "),d("code",[t._v("PageContainer")]),t._v(" component.")]),t._v(" "),d("p",[d("code",[t._v("frontend/src/Router.ts")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"cmV0dXJuICgKICAmbHQ7QnJvd3NlclJvdXRlciZndDsKICAgICZsdDtQYWdlQ29udGFpbmVyJmd0OwogICAgICAmbHQ7Um91dGVzJmd0OwogICAgICAgICZsdDtSb3V0ZSBwYXRoPSZxdW90Oy8mcXVvdDsgZWxlbWVudD17Jmx0O0xhbmRpbmcgLyZndDt9IC8mZ3Q7CiAgICAgICAgJmx0O1JvdXRlIHBhdGg9JnF1b3Q7L2FwcCZxdW90OyBlbGVtZW50PXsmbHQ7QXBwSG9tZSAvJmd0O30gLyZndDsKICAgICAgICAmbHQ7Um91dGUgcGF0aD0mcXVvdDsvaGlzdG9yeSZxdW90OyBlbGVtZW50PXsmbHQ7SGlzdG9yeSAvJmd0O30gLyZndDsKICAgICAgICAmbHQ7Um91dGUgcGF0aD0mcXVvdDsqJnF1b3Q7IGVsZW1lbnQ9eyZsdDtOYXZpZ2F0ZSB0bz0mcXVvdDsvJnF1b3Q7IC8mZ3Q7fSAvJmd0OwogICAgICAmbHQ7L1JvdXRlcyZndDsKICAgICZsdDsvUGFnZUNvbnRhaW5lciZndDsKICAgICZsdDtUb2FzdCAvJmd0OwogICZsdDsvQnJvd3NlclJvdXRlciZndDsKKTsK"}}),t._v(" "),d("h3",{attrs:{id:"pagecontainer-component"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#pagecontainer-component"}},[t._v("#")]),t._v(" PageContainer Component")]),t._v(" "),d("p",[t._v("The "),d("code",[t._v("PageContainer")]),t._v(" component adds the header and footer to its "),d("code",[t._v("children")]),t._v(" prop. It's also in the "),d("code",[t._v("containers")]),t._v(" folder which means it's connected to the global state. To connect a component to the global state, simply wrap the component with the "),d("code",[t._v("connect")]),t._v(" "),d("a",{attrs:{href:"https://reactjs.org/docs/higher-order-components.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("higher-order component"),d("OutboundLink")],1),t._v(".")]),t._v(" "),d("p",[d("code",[t._v("frontend/src/containers/PageContainer.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"dHlwZSBQcm9wcyA9IFN0YXRlICZhbXA7IHsgLy8gYFN0YXRlYCBpcyB0aGUgdHlwZSBvZiB0aGUgZ2xvYmFsIHN0YXRlLCBzbyBvbmx5IGNvbnRhaW5lcnMgKGkuZS4gY29ubmVjdGVkIGNvbXBvbmVudHMpIHNob3VsZCB1c2UgaXQgaW4gdGhlaXIgcHJvcCB0eXBlcy4KCW5vUGFkZGluZz86IGJvb2xlYW47CgljaGlsZHJlbjogUmVhY3ROb2RlOwp9OwoKY29uc3QgUGFnZUNvbnRhaW5lciA9ICh7Cglub1BhZGRpbmcsCglhY3RpdmVOZXR3b3JrSW5kZXgsCglsYW5ndWFnZVR5cGUsCglpMThuLAoJc2V0U3RhdGUsCgljaGlsZHJlbiwKCXZwQWRkcmVzcywKCWFjdGl2ZUFkZHJlc3MsCn06IFByb3BzKSA9Jmd0OyB7Cgljb25zdCBbdGhlbWUsIHRoZW1lU2V0XSA9IHVzZVN0YXRlKGxvY2FsU3RvcmFnZS50aGVtZSk7CgoJdXNlRWZmZWN0KCgpID0mZ3Q7IHsKCQlpbXBvcnQoYC4uL2kxOG4vJHtsYW5ndWFnZVR5cGV9LnRzYCkudGhlbigodHJhbnNsYXRpb24pID0mZ3Q7IHsKCQkJc2V0U3RhdGUoeyBpMThuOiB0cmFuc2xhdGlvbi5kZWZhdWx0IH0pOwoJCX0pOwoJfSwgW3NldFN0YXRlLCBsYW5ndWFnZVR5cGVdKTsKCgljb25zdCBsYW5ndWFnZXMgPSBbCgkJWydFbmdsaXNoJywgJ2VuJ10sCgldOwoKCWNvbnN0IHRoZW1lczogW3R5cGVvZiBTdW5JY29uLCBzdHJpbmddW10gPSBbCgkJW1N1bkljb24sIGkxOG4/LmxpZ2h0XSwKCQlbTW9vbkljb24sIGkxOG4/LmRhcmtdLAoJCVtEZXNrdG9wQ29tcHV0ZXJJY29uLCBpMThuPy5zeXN0ZW1dLAoJXTsKCgl1c2VFZmZlY3QoKCkgPSZndDsgewoJCWxldCB1bnN1YnNjcmliZSA9ICgpID0mZ3Q7IHt9OwoJCWlmICh3aW5kb3c/LnZpdGVQYXNzcG9ydCAmYW1wOyZhbXA7IHZwQWRkcmVzcyAmYW1wOyZhbXA7IHZwQWRkcmVzcyA9PT0gYWN0aXZlQWRkcmVzcykgewoJCQl1bnN1YnNjcmliZSA9IHdpbmRvdy52aXRlUGFzc3BvcnQub24oJ25ldHdvcmtDaGFuZ2UnLCAocGF5bG9hZCkgPSZndDsgewoJCQkJbGV0IGFjdGl2ZU5ldHdvcmtJbmRleCA9IG5ldHdvcmtMaXN0LmZpbmRJbmRleCgKCQkJCQkobikgPSZndDsgbi5ycGNVcmwgPT09IHBheWxvYWQuYWN0aXZlTmV0d29yay5ycGNVcmwKCQkJCSk7CgkJCQlpZiAoYWN0aXZlTmV0d29ya0luZGV4ID09PSAtMSkgewoJCQkJCXNldFN0YXRlKHsgdG9hc3Q6IGkxOG4udml0ZVBhc3Nwb3J0TmV0d29ya0RvZXNOb3RNYXRjaERhcHBOZXR3b3JrVXJsIH0pOwoJCQkJCWFjdGl2ZU5ldHdvcmtJbmRleCA9IDA7CgkJCQl9CgkJCQlzZXRTdGF0ZSh7IGFjdGl2ZU5ldHdvcmtJbmRleCB9KTsKCQkJfSk7CgkJfQoJCXJldHVybiB1bnN1YnNjcmliZTsKCX0sIFtzZXRTdGF0ZSwgdnBBZGRyZXNzLCBhY3RpdmVBZGRyZXNzLCBpMThuXSk7CgoJdXNlRWZmZWN0KCgpID0mZ3Q7IHsKCQlsZXQgdW5zdWJzY3JpYmUgPSAoKSA9Jmd0OyB7fTsKCQlpZiAod2luZG93Py52aXRlUGFzc3BvcnQpIHsKCQkJdW5zdWJzY3JpYmUgPSB3aW5kb3cudml0ZVBhc3Nwb3J0Lm9uKCdhY2NvdW50Q2hhbmdlJywgKHBheWxvYWQpID0mZ3Q7IHsKCQkJCXNldFN0YXRlKHsgdnBBZGRyZXNzOiBwYXlsb2FkLmFjdGl2ZUFkZHJlc3MgfSk7CgkJCX0pOwoJCX0KCQlyZXR1cm4gdW5zdWJzY3JpYmU7Cgl9LCBbc2V0U3RhdGVdKTsKCglyZXR1cm4gIWkxOG4gPyBudWxsIDogKAoJCSZsdDtkaXYgY2xhc3NOYW1lPSZxdW90O2gtMCBtaW4taC1zY3JlZW4gcmVsYXRpdmUgZmxleCBmbGV4LWNvbCZxdW90OyZndDsKCQkJJmx0O2hlYWRlciBjbGFzc05hbWU9JnF1b3Q7ZnggcHgtMiBoLTEyIGp1c3RpZnktYmV0d2VlbiB0b3AtWzFweF0gdy1mdWxsIGZpeGVkIHotNTAmcXVvdDsmZ3Q7CgkJCQl7LyogaGVhZGVyIGxpbmtzL2J1dHRvbnMgKi99CgkJCSZsdDsvaGVhZGVyJmd0OwoJCQkmbHQ7bWFpbiBjbGFzc05hbWU9e2BmbGV4LTEgJHtub1BhZGRpbmcgPyAnJyA6ICdweC00IHB0LTE0J31gfSZndDt7Y2hpbGRyZW59Jmx0Oy9tYWluJmd0OwoJCQkmbHQ7ZGl2IGNsYXNzTmFtZT0mcXVvdDtmeCBqdXN0aWZ5LWVuZCBnYXAtMiBteC00IG15LTMgdGV4dC1za2luLW11dGVkIHRleHQtc20mcXVvdDsmZ3Q7CgkJCQl7LyogZm9vdGVyIGxpbmtzICovfQoJCQkmbHQ7L2RpdiZndDsKCQkmbHQ7L2RpdiZndDsKCSk7Cn07CgpleHBvcnQgZGVmYXVsdCBjb25uZWN0KFBhZ2VDb250YWluZXIpOwo="}}),t._v(" "),d("h3",{attrs:{id:"global-state"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#global-state"}},[t._v("#")]),t._v(" Global State")]),t._v(" "),d("p",[t._v("As mentioned previously, the "),d("code",[t._v("Provider")]),t._v(" component is a "),d("a",{attrs:{href:"https://reactjs.org/docs/context.html#when-to-use-context",target:"_blank",rel:"noopener noreferrer"}},[t._v("React context"),d("OutboundLink")],1),t._v(" that acts as the frontend's global state and "),d("code",[t._v("connect")]),t._v(" is the "),d("a",{attrs:{href:"https://reactjs.org/docs/higher-order-components.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("higher-order component"),d("OutboundLink")],1),t._v(" used to connect to the global state.")]),t._v(" "),d("p",[t._v("Additional details about the "),d("code",[t._v("Provider")]),t._v(" component include:")]),t._v(" "),d("ul",[d("li",[t._v("The initial app state can be optionally be set via the "),d("code",[t._v("initialState")]),t._v(" prop")]),t._v(" "),d("li",[t._v("The "),d("code",[t._v("onSetState")]),t._v(" prop is called every time the state changes (i.e. "),d("code",[t._v("setState")]),t._v(" is called) with the new state and optional "),d("code",[t._v("options")]),t._v(" arguments passed to "),d("code",[t._v("setState")]),t._v(".")]),t._v(" "),d("li",[t._v("The initial global state is set in "),d("a",{attrs:{href:"frontend/src/components/App.tsx"}},[t._v("App.tsx")]),t._v("\nAdditional details about the "),d("code",[t._v("connect")]),t._v(" higher-order component include:")]),t._v(" "),d("li",[t._v("All "),d("code",[t._v("connect")]),t._v("ed components are passed the global state fields and a "),d("code",[t._v("setState")]),t._v(" function as props.")]),t._v(" "),d("li",[t._v("The "),d("code",[t._v("setState")]),t._v(" method is used for mutating the global state.\n"),d("ul",[d("li",[t._v("The first parameter is an object and its properties will be shallow merged with the current global state.\n"),d("ul",[d("li",[t._v("e.g. "),d("code",[t._v("setState({ networkType: network })")]),t._v(" will update the all containers that use the "),d("code",[t._v("networkType")]),t._v(" prop.")])])]),t._v(" "),d("li",[t._v("To deep merge, pass an optional second meta object argument to "),d("code",[t._v("setState")]),t._v(" with "),d("code",[t._v("{ deepMerge: true }")]),t._v(".\n      "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"ts",base64:"c2V0U3RhdGUoeyBhOiB7IGI6ICdjJyB9IH0sIHsgZGVlcE1lcmdlOiB0cnVlIH0pCi8vIHsgYTogeyBkOiAzIH0gfSA9Jmd0OyB7IGE6IHsgZDogMywgYjogJ2MnIH0gfQo="}})],1)])]),t._v(" "),d("li",[t._v("Components that use "),d("code",[t._v("connect")]),t._v(" are known as connected components or containers and go in the "),d("code",[t._v("frontend/src/containers")]),t._v(" folder.")])]),t._v(" "),d("p",[d("code",[t._v("frontend/src/utils/globalContext.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"aW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuL3R5cGVzJzsKCi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81MTM2NTAzNy8xMzQ0MjcxOQp0eXBlIFJlY3Vyc2l2ZVBhcnRpYWwmbHQ7VCZndDsgPSB7CglbUCBpbiBrZXlvZiBUXT86IFRbUF0gZXh0ZW5kcyAoaW5mZXIgVSlbXQoJCT8gUmVjdXJzaXZlUGFydGlhbCZsdDtVJmd0O1tdCgkJOiBUW1BdIGV4dGVuZHMgb2JqZWN0CgkJPyBSZWN1cnNpdmVQYXJ0aWFsJmx0O1RbUF0mZ3Q7CgkJOiBUW1BdOwp9OwoKZXhwb3J0IHR5cGUgc2V0U3RhdGVUeXBlID0gKHN0YXRlOiBSZWN1cnNpdmVQYXJ0aWFsJmx0O1N0YXRlJmd0OywgbWV0YT86IHsgZGVlcE1lcmdlPzogYm9vbGVhbiB9KSA9Jmd0OyB2b2lkOwoKdHlwZSBIT0NQcm9wcyA9IHsKCXN0YXRlOiBQYXJ0aWFsJmx0O1N0YXRlJmd0OzsKCXNldFN0YXRlOiBzZXRTdGF0ZVR5cGU7Cn07CgovLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTg0MDUwMDMvMTM0NDI3MTkKY29uc3QgR2xvYmFsQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQmbHQ7SE9DUHJvcHMmZ3Q7KHVuZGVmaW5lZCEpOwoKdHlwZSBQcm92aWRlclByb3BzID0gewoJY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTsKCWluaXRpYWxTdGF0ZT86IFBhcnRpYWwmbHQ7U3RhdGUmZ3Q7Owp9OwoKZXhwb3J0IGNvbnN0IFByb3ZpZGVyID0gKHsgY2hpbGRyZW4sIGluaXRpYWxTdGF0ZSA9IHt9IH06IFByb3ZpZGVyUHJvcHMpID0mZ3Q7IHsKCWNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGUoaW5pdGlhbFN0YXRlKTsKCWNvbnN0IHNldFN0YXRlRnVuYyA9IHVzZUNhbGxiYWNrKAoJCShzdGF0ZUNoYW5nZXM6IG9iamVjdCwgb3B0aW9uczogeyBkZWVwTWVyZ2U/OiBib29sZWFuIH0gPSB7fSkgPSZndDsgewoJCQlzZXRTdGF0ZSgocHJldlN0YXRlKSA9Jmd0OyB7CgkJCQljb25zdCBuZXdTdGF0ZSA9IG9wdGlvbnMuZGVlcE1lcmdlCgkJCQkJPyBkZWVwTWVyZ2UoeyAuLi5wcmV2U3RhdGUgfSwgc3RhdGVDaGFuZ2VzKQoJCQkJCTogeyAuLi5wcmV2U3RhdGUsIC4uLnN0YXRlQ2hhbmdlcyB9OwoJCQkJcmV0dXJuIG5ld1N0YXRlOwoJCQl9KTsKCQl9LAoJCVtdCgkpOwoKCXJldHVybiAoCgkJJmx0O0dsb2JhbENvbnRleHQuUHJvdmlkZXIKCQkJdmFsdWU9e3sKCQkJCXN0YXRlLAoJCQkJc2V0U3RhdGU6IHNldFN0YXRlRnVuYywKCQkJfX0KCQkmZ3Q7CgkJCXtjaGlsZHJlbn0KCQkmbHQ7L0dsb2JhbENvbnRleHQuUHJvdmlkZXImZ3Q7CgkpOwp9OwoKZXhwb3J0IGNvbnN0IGRlZXBNZXJnZSA9ICh0YXJnZXQ6IHsgW2tleTogc3RyaW5nXTogYW55IH0sIHNvdXJjZTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkgPSZndDsgewoJaWYgKHRhcmdldCAmYW1wOyZhbXA7IHNvdXJjZSkgewoJCWZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkgewoJCQlpZiAoCgkJCQlzb3VyY2Vba2V5XSBpbnN0YW5jZW9mIE9iamVjdCAmYW1wOyZhbXA7CgkJCQkhQXJyYXkuaXNBcnJheShzb3VyY2Vba2V5XSkgLy8gTkI6IERPRVMgTk9UIERFRVAgTUVSR0UgQVJSQVlTCgkJCSkgewoJCQkJT2JqZWN0LmFzc2lnbihzb3VyY2Vba2V5XSwgZGVlcE1lcmdlKHRhcmdldFtrZXldIHx8IHt9LCBzb3VyY2Vba2V5XSkpOwoJCQl9CgkJfQoJCU9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpOwoJCXJldHVybiB0YXJnZXQ7Cgl9CglyZXR1cm4gdGFyZ2V0IHx8IHNvdXJjZTsKfTsKCi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81Njk4OTEyMi8xMzQ0MjcxOQpleHBvcnQgY29uc3QgY29ubmVjdCA9ICZsdDtULCZndDsoQ29tcG9uZW50OiBSZWFjdC5Db21wb25lbnRUeXBlJmx0O1QmZ3Q7KSA9Jmd0OyB7CgkvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvZGlzcGxheS1uYW1lCglyZXR1cm4gKHByb3BzOiBPbWl0Jmx0O1QsIGtleW9mIFN0YXRlJmd0OykgPSZndDsgKAoJCSZsdDtHbG9iYWxDb250ZXh0LkNvbnN1bWVyJmd0OwoJCQl7KHZhbHVlOiBIT0NQcm9wcykgPSZndDsgKAoJCQkJLy8gQHRzLWlnbm9yZQoJCQkJJmx0O0NvbXBvbmVudCB7Li4ucHJvcHN9IHsuLi52YWx1ZS5zdGF0ZX0gc2V0U3RhdGU9e3ZhbHVlLnNldFN0YXRlfSAvJmd0OwoJCQkpfQoJCSZsdDsvR2xvYmFsQ29udGV4dC5Db25zdW1lciZndDsKCSk7Cn07Cgo="}}),t._v(" "),d("h3",{attrs:{id:"light-dark-system-theme"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#light-dark-system-theme"}},[t._v("#")]),t._v(" Light/Dark/System theme")]),t._v(" "),d("p",[t._v("Vite Express has 3 theme settings: light, dark, and system (changes according to the theme of your computer's light/dark theme). This is achieved with "),d("a",{attrs:{href:"https://tailwindcss.com/docs/dark-mode#toggling-dark-mode-manually",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tailwind CSS' native dark mode support"),d("OutboundLink")],1),t._v(". In "),d("code",[t._v("theme.ts")]),t._v(" the initial theme is set based on "),d("code",[t._v("localStorage.theme")]),t._v(" and in "),d("code",[t._v("PageContainer.tsx")]),t._v(", dark mode is toggled manually.")]),t._v(" "),d("p",[d("code",[t._v("frontend/src/styles/theme.ts")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"ts",base64:"aWYgKCFsb2NhbFN0b3JhZ2UudGhlbWUpIHsKCWxvY2FsU3RvcmFnZS50aGVtZSA9ICdzeXN0ZW0nOwp9CgppZiAoCglsb2NhbFN0b3JhZ2UudGhlbWUgPT09ICdkYXJrJyB8fAoJKGxvY2FsU3RvcmFnZS50aGVtZSA9PT0gJ3N5c3RlbScgJmFtcDsmYW1wOyBwcmVmZXJzRGFya1RoZW1lKQopIHsKCWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7Cn0gZWxzZSB7Cglkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpOwp9CgovLyBkb2VzIG5vdCBleGlzdCBvbiBvbGRlciBicm93c2VycwppZiAod2luZG93Py5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJyk/LmFkZEV2ZW50TGlzdGVuZXIpIHsKCXdpbmRvdwoJCT8ubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpCgkJPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPSZndDsgewoJCQlpZiAobG9jYWxTdG9yYWdlLnRoZW1lID09PSAnc3lzdGVtJykgewoJCQkJaWYgKGUubWF0Y2hlcykgewoJCQkJCWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7CgkJCQl9IGVsc2UgewoJCQkJCWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdkYXJrJyk7CgkJCQl9CgkJCX0KCQl9KTsKfQo="}}),t._v(" "),d("p",[d("code",[t._v("frontend/src/containers/PageContainer.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"Jmx0O0Ryb3Bkb3duQnV0dG9uCiAgYnV0dG9uSnN4PXsKICAgICZsdDtkaXYgY2xhc3NOYW1lPSZxdW90O3ctOCBoLTggeHkmcXVvdDsmZ3Q7CiAgICAgICZsdDtkaXYKICAgICAgICBjbGFzc05hbWU9e2B3LTcgaC03ICR7CiAgICAgICAgICB0aGVtZSA9PT0gJ3N5c3RlbScKICAgICAgICAgICAgPyAndGV4dC1za2luLW11dGVkJwogICAgICAgICAgICA6ICd0ZXh0LXNraW4taGlnaGxpZ2h0JwogICAgICAgIH1gfQogICAgICAmZ3Q7CiAgICAgICAgJmx0O1N1bkljb24gY2xhc3NOYW1lPSZxdW90O2Jsb2NrIGRhcms6aGlkZGVuJnF1b3Q7IC8mZ3Q7CiAgICAgICAgJmx0O01vb25JY29uIGNsYXNzTmFtZT0mcXVvdDtoaWRkZW4gZGFyazpibG9jayZxdW90OyAvJmd0OwogICAgICAmbHQ7L2RpdiZndDsKICAgICZsdDsvZGl2Jmd0OwogIH0KICBkcm9wZG93bkpzeD17CiAgICAmbHQ7Jmd0OwogICAgICB7dGhlbWVzLm1hcCgoW0ljb24sIGxhYmVsXSkgPSZndDsgewogICAgICAgIGNvbnN0IGFjdGl2ZSA9IGxvY2FsU3RvcmFnZS50aGVtZSA9PT0gbGFiZWw7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICZsdDtidXR0b24KICAgICAgICAgICAga2V5PXtsYWJlbH0KICAgICAgICAgICAgY2xhc3NOYW1lPSZxdW90O2Z4IHB4LTIgcHktMC41IGgtNyBnYXAtMiB3LWZ1bGwgYmctc2tpbi1mb3JlZ3JvdW5kIGJyaWdodG5lc3MtYnV0dG9uJnF1b3Q7CiAgICAgICAgICAgIG9uTW91c2VEb3duPXsoZSkgPSZndDsgZS5wcmV2ZW50RGVmYXVsdCgpfQogICAgICAgICAgICBvbkNsaWNrPXsoKSA9Jmd0OyB7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnRoZW1lID0gbGFiZWw7CiAgICAgICAgICAgICAgdGhlbWVTZXQobGFiZWwpOwogICAgICAgICAgICAgIGlmIChsYWJlbCA9PT0gJ2xpZ2h0JyB8fCAhcHJlZmVyc0RhcmtUaGVtZSgpKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFiZWwgPT09ICdkYXJrJyB8fCBwcmVmZXJzRGFya1RoZW1lKCkpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9fQogICAgICAgICAgJmd0OwogICAgICAgICAgICAmbHQ7SWNvbgogICAgICAgICAgICAgIGNsYXNzTmFtZT17YGgtZnVsbCAkewogICAgICAgICAgICAgICAgYWN0aXZlID8gJ3RleHQtc2tpbi1oaWdobGlnaHQnIDogJ3RleHQtc2tpbi1zZWNvbmRhcnknCiAgICAgICAgICAgICAgfWB9CiAgICAgICAgICAgIC8mZ3Q7CiAgICAgICAgICAgICZsdDtwCiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZm9udC1zZW1pYm9sZCAkewogICAgICAgICAgICAgICAgYWN0aXZlID8gJ3RleHQtc2tpbi1oaWdobGlnaHQnIDogJycKICAgICAgICAgICAgICB9YH0KICAgICAgICAgICAgJmd0OwogICAgICAgICAgICAgIHtsYWJlbFswXS50b1VwcGVyQ2FzZSgpICsgbGFiZWwuc3Vic3RyaW5nKDEpfQogICAgICAgICAgICAmbHQ7L3AmZ3Q7CiAgICAgICAgICAmbHQ7L2J1dHRvbiZndDsKICAgICAgICApOwogICAgICB9KX0KICAgICZsdDsvJmd0OwogIH0KLyZndDsK"}}),t._v(" "),d("h3",{attrs:{id:"internalization-i18n"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#internalization-i18n"}},[t._v("#")]),t._v(" Internalization (i18n)")]),t._v(" "),d("p",[t._v("Throughout Vite Express, you will see "),d("code",[t._v("i18n")]),t._v(" being passed as props to connected components. "),d("code",[t._v("i18n")]),t._v(" is an object that contains all of the text for a particular transaction. By default, there is only English, but more languages can be added to the "),d("code",[t._v("frontend/src/i18n")]),t._v(" folder. If you do this, make sure to add it as an option to the "),d("code",[t._v("languages")]),t._v(" array where the first element in the nested array is the label, and the second is the filename without the "),d("code",[t._v(".ts")]),t._v(" extension. From there, when the "),d("code",[t._v("DropdownButton")]),t._v(" in "),d("code",[t._v("PageContainer.tsx")]),t._v(" is used to select a new language, the global state's "),d("code",[t._v("languageType")]),t._v(" will change, which triggers a "),d("code",[t._v("useEffect")]),t._v(" to replace the current "),d("code",[t._v("i18n")]),t._v(" translation with the new one.")]),t._v(" "),d("p",[d("code",[t._v("frontend/src/containers/PageContainer.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"Y29uc3QgbGFuZ3VhZ2VzID0gWwogIFsnRW5nbGlzaCcsICdlbiddLAogIC8vIFsnRW5nbGlzaCcsICdlbiddLApdOwovLyAuLi4KdXNlRWZmZWN0KCgpID0mZ3Q7IHsKICBpZiAoIWkxOG4pIHsKICAgIGltcG9ydChgLi4vaTE4bi8ke2xhbmd1YWdlVHlwZX0udHNgKS50aGVuKCh0cmFuc2xhdGlvbikgPSZndDsgewogICAgICBzZXRTdGF0ZSh7IGkxOG46IHRyYW5zbGF0aW9uLmRlZmF1bHQgfSk7CiAgICB9KTsKICB9Cn0sIFtzZXRTdGF0ZSwgaTE4biwgbGFuZ3VhZ2VUeXBlXSk7Ci8vIC4uLgombHQ7RHJvcGRvd25CdXR0b24KICBidXR0b25Kc3g9ewogICAgJmx0O2RpdiBjbGFzc05hbWU9JnF1b3Q7dy04IGgtOCB4eSZxdW90OyZndDsKICAgICAgJmx0O1RyYW5zbGF0ZUljb24gY2xhc3NOYW1lPSZxdW90O3RleHQtc2tpbi1tdXRlZCB3LTcgaC03JnF1b3Q7IC8mZ3Q7CiAgICAmbHQ7L2RpdiZndDsKICB9CiAgZHJvcGRvd25Kc3g9ewogICAgJmx0OyZndDsKICAgICAge2xhbmd1YWdlcy5tYXAoKFtsYW5ndWFnZSwgc2hvcnRoYW5kXSkgPSZndDsgewogICAgICAgIGNvbnN0IGFjdGl2ZSA9CiAgICAgICAgICBsb2NhbFN0b3JhZ2UubGFuZ3VhZ2VUeXBlID09PSBzaG9ydGhhbmQgfHwKICAgICAgICAgICghbG9jYWxTdG9yYWdlLmxhbmd1YWdlVHlwZSAmYW1wOyZhbXA7IHNob3J0aGFuZCA9PT0gJ2VuJyk7CiAgICAgICAgcmV0dXJuICgKICAgICAgICAgICZsdDtidXR0b24KICAgICAgICAgICAga2V5PXtsYW5ndWFnZX0KICAgICAgICAgICAgY2xhc3NOYW1lPXtgZnggcHgtMiB3LWZ1bGwgaC03IGJnLXNraW4tZm9yZWdyb3VuZCBicmlnaHRuZXNzLWJ1dHRvbiAkewogICAgICAgICAgICAgIGFjdGl2ZSA/ICd0ZXh0LXNraW4taGlnaGxpZ2h0JyA6ICcnCiAgICAgICAgICAgIH1gfQogICAgICAgICAgICBvbk1vdXNlRG93bj17KGUpID0mZ3Q7IGUucHJldmVudERlZmF1bHQoKX0KICAgICAgICAgICAgb25DbGljaz17KCkgPSZndDsgewogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5sYW5ndWFnZVR5cGUgPSBzaG9ydGhhbmQ7CiAgICAgICAgICAgICAgc2V0U3RhdGUoeyBsYW5ndWFnZVR5cGU6IHNob3J0aGFuZCB9KTsKICAgICAgICAgICAgfX0KICAgICAgICAgICZndDsKICAgICAgICAgICAge2xhbmd1YWdlfQogICAgICAgICAgJmx0Oy9idXR0b24mZ3Q7CiAgICAgICAgKTsKICAgICAgfSl9CiAgICAmbHQ7LyZndDsKICB9Ci8mZ3Q7Cg=="}}),t._v(" "),d("h3",{attrs:{id:"a-component"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#a-component"}},[t._v("#")]),t._v(" A Component")]),t._v(" "),d("p",[t._v("The "),d("code",[t._v("A")]),t._v(" component is used for both internal and external links. If you pass it a "),d("code",[t._v("to")]),t._v(" prop, clicking the link will navigate to the route specified in "),d("code",[t._v("Router.tsx")]),t._v(". If you pass it an "),d("code",[t._v("href")]),t._v(" prop, clicking it will open the URL in a new tab.")]),t._v(" "),d("h3",{attrs:{id:"modal-component"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#modal-component"}},[t._v("#")]),t._v(" Modal Component")]),t._v(" "),d("p",[t._v("The "),d("code",[t._v("Modal")]),t._v(" component is used for presenting components on top of the main app (e.g. when showing the QR code for ViteConnect or prompting the user to sign a transaction). To use it, you need to create a state variable (locally with "),d("code",[t._v("useState")]),t._v(" or globally with "),d("code",[t._v("connect")]),t._v(', it doesn\'t matter) that determines if the modal is visible or not. Once you have the "switch" variable, use it to open and close the modal like in the '),d("code",[t._v("AppHome")]),t._v(" component.")]),t._v(" "),d("p",[d("code",[t._v("frontend/src/pages/AppHome.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"Y29uc3QgW3Byb21wdFR4Q29uZmlybWF0aW9uLCBwcm9tcHRUeENvbmZpcm1hdGlvblNldF0gPSB1c2VTdGF0ZShmYWxzZSk7Ci8vIC4uLgpwcm9tcHRUeENvbmZpcm1hdGlvblNldCh0cnVlKTsgLy8gSW4gYSBidXR0b24ncyBvbkNsaWNrIGV2ZW50IHRoYXQgc2hvd3MgdGhlIG1vZGFsCi8vIC4uLgp7ISFwcm9tcHRUeENvbmZpcm1hdGlvbiAmYW1wOyZhbXA7ICgKCSZsdDtNb2RhbCBvbkNsb3NlPXsoKSA9Jmd0OyBwcm9tcHRUeENvbmZpcm1hdGlvblNldChmYWxzZSl9Jmd0OwoJCSZsdDtwIGNsYXNzTmFtZT0mcXVvdDt0ZXh0LWNlbnRlciB0ZXh0LWxnIGZvbnQtc2VtaWJvbGQmcXVvdDsmZ3Q7CgkJCXt2cEFkZHJlc3MKCQkJCT8gaTE4bi5jb25maXJtVHJhbnNhY3Rpb25PblZpdGVQYXNzcG9ydAoJCQkJOiBpMThuLmNvbmZpcm1UcmFuc2FjdGlvbk9uWW91clZpdGVXYWxsZXRBcHB9CgkJJmx0Oy9wJmd0OwoJJmx0Oy9Nb2RhbCZndDsKKX0K"}}),t._v(" "),d("h3",{attrs:{id:"textinput-component"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#textinput-component"}},[t._v("#")]),t._v(" TextInput Component")]),t._v(" "),d("p",[t._v("The "),d("code",[t._v("TextInput")]),t._v(" component is self-explanatory. It has many props for changing how it looks and behaves. However its most useful feature is validating their inputs when submitting forms. To use it, you need to create references for each "),d("code",[t._v("TextInput")]),t._v(" and pass it to the corresponding "),d("code",[t._v("_ref")]),t._v(" prop. To validate multiple "),d("code",[t._v("TextInput")]),t._v("s, pass them as an array to "),d("code",[t._v("validateInputs")]),t._v(" which when called will return "),d("code",[t._v("true")]),t._v(" if all the input refs are valid - else false.")]),t._v(" "),d("p",[t._v("The two props that alter how "),d("code",[t._v("TextInput")]),t._v("s are validated are "),d("code",[t._v("optional")]),t._v(" (meaning it can be empty, else it is implicitly required) and "),d("code",[t._v("getIssue")]),t._v(" where it is passed the current trimmed value and it can return a string if there are any errors.")]),t._v(" "),d("p",[t._v("The "),d("code",[t._v("AppHome")]),t._v(" shows an example of this in action.")]),t._v(" "),d("p",[d("code",[t._v("frontend/src/pages/AppHome.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"Y29uc3QgYmVuZWZpY2lhcnlBZGRyZXNzUmVmID0gdXNlUmVmJmx0O1RleHRJbnB1dFJlZk9iamVjdCZndDsoKTsKY29uc3QgYW1vdW50UmVmID0gdXNlUmVmJmx0O1RleHRJbnB1dFJlZk9iamVjdCZndDsoKTsKLy8gLi4uCiZsdDtUZXh0SW5wdXQKICBfcmVmPXthZGRyZXNzUmVmfQogIGxhYmVsPXtpMThuLmJlbmVmaWNpYXJ5QWRkcmVzc30KICBpbml0aWFsVmFsdWU9e3NlYXJjaFBhcmFtcy5nZXQoJ2FkZHJlc3MnKX0KICBnZXRJc3N1ZT17KHYpID0mZ3Q7IHsKICAgIGlmICghd2FsbGV0LmlzVmFsaWRBZGRyZXNzKHYpKSB7CiAgICAgIHJldHVybiBpMThuLmludmFsaWRBZGRyZXNzOwogICAgfQogIH19Ci8mZ3Q7CiZsdDtUZXh0SW5wdXQKICBudW1lcmljCiAgX3JlZj17YW1vdW50UmVmfQogIGxhYmVsPXtpMThuLmFtb3VudH0KICBpbml0aWFsVmFsdWU9e3NlYXJjaFBhcmFtcy5nZXQoJ2Ftb3VudCcpfQogIGdldElzc3VlPXsodikgPSZndDsgewogICAgaWYgKCt2ICZsdDs9IDApIHsKICAgICAgcmV0dXJuIGkxOG4uYW1vdW50TXVzdEJlUG9zaXRpdmU7CiAgICB9CiAgfX0KLyZndDsKJmx0O2J1dHRvbgogIGNsYXNzTmFtZT17YCR7CiAgICB2Y0luc3RhbmNlID8gJ2JnLXNraW4tbWVkbGlnaHQgYnJpZ2h0bmVzcy1idXR0b24nIDogJ2JnLWdyYXktNDAwJwogIH0gaC04IHB4LTMgcm91bmRlZC1tZCBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgc2hhZG93YH0KICBkaXNhYmxlZD17IXZjSW5zdGFuY2V9CiAgb25DbGljaz17YXN5bmMgKCkgPSZndDsgewogICAgaWYgKHZhbGlkYXRlSW5wdXRzKFtiZW5lZmljaWFyeUFkZHJlc3NSZWYsIGFtb3VudFJlZl0pKSB7CiAgICAgIC8vIFRoZSBpbnB1dHMgYXJlIHZhbGlkIGFjY29yZGluZyB0byB0aGVpciBnZXRJc3N1ZSBwcm9wIGFuZCBpbnB1dHMgd2l0aG91dCB0aGUgYG9wdGlvbmFsYCBwcm9wIGhhdmUgYSB0cnV0aHkgaW5wdXQgdmFsdWUuCgkJCS8vIERvIHN0dWZmIHdpdGggYGFkZHJlc3NSZWYudmFsdWVgIGFuZCBgYW1vdW50UmVmLnZhbHVlYAogICAgfQogIH19CiZndDsKICB7aTE4bi5idXlDb2ZmZWV9CiZsdDsvYnV0dG9uJmd0OwoK"}}),t._v(" "),d("h3",{attrs:{id:"toast-component"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#toast-component"}},[t._v("#")]),t._v(" Toast Component")]),t._v(" "),d("p",[t._v("The "),d("code",[t._v("Toast")]),t._v(" component renders a small ephemeral notification at the top of the screen. It should not be rendered more than once and by default it's already rendered in "),d("code",[t._v("Router.tsx")]),t._v(". To display a toast message, you must call "),d("code",[t._v("setState({ toast: '<toast_message>' })")]),t._v(" like in "),d("code",[t._v("AppHome.tsx")]),t._v(".")]),t._v(" "),d("p",[d("code",[t._v("frontend/src/pages/AppHome.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"Jmx0O2J1dHRvbgogIGNsYXNzTmFtZT17YCR7CiAgICB2Y0luc3RhbmNlID8gJ2JnLXNraW4tbWVkbGlnaHQgYnJpZ2h0bmVzcy1idXR0b24nIDogJ2JnLWdyYXktNDAwJwogIH0gaC04IHB4LTMgcm91bmRlZC1tZCBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgc2hhZG93YH0KICBkaXNhYmxlZD17IXZjSW5zdGFuY2V9CiAgb25DbGljaz17YXN5bmMgKCkgPSZndDsgewogICAgaWYgKHZhbGlkYXRlSW5wdXRzKFtiZW5lZmljaWFyeUFkZHJlc3NSZWYsIGFtb3VudFJlZl0pKSB7CiAgICAgIHByb21wdFR4Q29uZmlybWF0aW9uU2V0KHRydWUpOwogICAgICBhd2FpdCBjYWxsQ29udHJhY3QoCiAgICAgICAgQ2FmZUNvbnRyYWN0LAogICAgICAgICdidXlDb2ZmZWUnLAogICAgICAgIFtiZW5lZmljaWFyeUFkZHJlc3MsIGFtb3VudF0sCiAgICAgICAgY29uc3RhbnQuVml0ZV9Ub2tlbklkLAogICAgICAgIHRvU21hbGxlc3RVbml0KGFtb3VudCwgY29uc3RhbnQuVml0ZV9Ub2tlbl9JbmZvLmRlY2ltYWxzKQogICAgICApOwogICAgICBzZXRTdGF0ZSh7IHRvYXN0OiBpMThuLnRyYW5zYWN0aW9uQ29uZmlybWVkIH0pOwogICAgICBiZW5lZmljaWFyeUFkZHJlc3NTZXQoJycpOwogICAgICBhbW91bnRTZXQoJycpOwogICAgICBwcm9tcHRUeENvbmZpcm1hdGlvblNldChmYWxzZSk7CiAgICB9CiAgfX0KJmd0OwogIHtpMThuLmJ1eUNvZmZlZX0KJmx0Oy9idXR0b24mZ3Q7Cg=="}}),t._v(" "),d("h3",{attrs:{id:"connectwalletbutton-component"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#connectwalletbutton-component"}},[t._v("#")]),t._v(" ConnectWalletButton Component")]),t._v(" "),d("p",[t._v("The "),d("code",[t._v("ConnectWalletButton")]),t._v(' component will show a "Connect Wallet" button if a Vite Wallet app or Vite Passport wallet isn\'t connected. If either one of those wallets is connected, the connected address will be displayed instead.')]),t._v(" "),d("p",[t._v('If you disconnect from the frontend by logging out, the connected wallet (whether it is the app or extension) will also disconnect. If you disconnect from the frontend via the Vite Wallet app or Vite Passport, the frontend will log out for you (i.e. the address button changes back to the "Connect Wallet" button).')]),t._v(" "),d("p",[t._v("If a Vite Wallet app is connected and the frontend is refreshed or otherwise exited and opened within a few minutes, the ViteConnect session will persist via "),d("code",[t._v("getValidVCSession")]),t._v(" in "),d("code",[t._v("viteConnect.ts")]),t._v(". Dapps connected with Vite Passport will persist indefinitely until the user or dapp programmatically disconnects.")]),t._v(" "),d("p",[d("code",[t._v("frontend/src/utils/viteConnect.ts")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"ts",base64:"ZXhwb3J0IGNsYXNzIFZDIGV4dGVuZHMgQ29ubmVjdG9yIHsKCS8vIC4uLgogIC8vIGNyZWF0ZVNlc3Npb24gYW5kIHNpZ25BbmRTZW5kVHggYXJlIHRoZSBvbmx5IHR3byBtZXRob2RzIG9mIHRoZSBWQyBjbGFzcyB0aGF0IGFyZSB1c2VkIGV4dGVybmFsbHkKCWFzeW5jIGNyZWF0ZVNlc3Npb24oKSB7CgkJYXdhaXQgc3VwZXIuY3JlYXRlU2Vzc2lvbigpOwoJCXJldHVybiB0aGlzLnVyaTsKCX0KCglhc3luYyBzaWduQW5kU2VuZFR4KHBhcmFtczogb2JqZWN0W10pIHsKCQlyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPSZndDsgewoJCQl0aGlzLnNlbmRDdXN0b21SZXF1ZXN0KHsgbWV0aG9kOiAndml0ZV9zaWduQW5kU2VuZFR4JywgcGFyYW1zIH0pCgkJCQkudGhlbigocmVzdWx0OiBvYmplY3QpID0mZ3Q7IHsKCQkJCQl0aGlzLnNhdmVTZXNzaW9uKCk7CgkJCQkJcmVzb2x2ZShyZXN1bHQpOwoJCQkJfSkKCQkJCS5jYXRjaCgoZTogRXJyb3IpID0mZ3Q7IHJlamVjdChlKSk7CgkJfSk7Cgl9Cn0KCmV4cG9ydCBmdW5jdGlvbiBnZXRWYWxpZFZDU2Vzc2lvbigpIHsKCS8vIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIFZpdGVDb25uZWN0IHNlc3Npb24gc3RvcmVkIGluIGxvY2FsU3RvcmFnZSBpZiBpdCBleGlzdHMKfQoKZXhwb3J0IGZ1bmN0aW9uIGluaXRWaXRlQ29ubmVjdChzZXNzaW9uOiBvYmplY3QpIHsKICAvLyBUaGUgY29uc3RydWN0b3Igb2YgdGhlIFZDIGNsYXNzIHNhdmVzIHRoZSBuZXdseSBjcmVhdGVkIHNlc3Npb24gaW4gbG9jYWxTdG9yYWdlCglyZXR1cm4gbmV3IFZDKHsKCQlzZXNzaW9uLAoJCWJyaWRnZTogJ3dzczovL2JpZm9yc3Qudml0ZS5uZXQnLAoJfSk7Cn0K"}}),t._v(" "),d("p",[d("code",[t._v("frontend/src/containers/ConnectWalletButton.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"Y29uc3QgQ29ubmVjdFdhbGxldEJ1dHRvbiA9ICh7IHNldFN0YXRlLCBpMThuLCBhY3RpdmVBZGRyZXNzLCB2Y0luc3RhbmNlLCB2cEFkZHJlc3MgfTogUHJvcHMpID0mZ3Q7IHsKCWNvbnN0IFtjb25uZWN0VVJJLCBjb25uZWN0VVJJU2V0XSA9IHVzZVN0YXRlKCcnKTsKCgl1c2VFZmZlY3QoKCkgPSZndDsgewoJCWlmICh2Y0luc3RhbmNlKSB7CgkJCXZjSW5zdGFuY2Uub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9Jmd0OyBzZXRTdGF0ZSh7IHZjSW5zdGFuY2U6IHVuZGVmaW5lZCB9KSk7CgkJfQoJfSwgW3NldFN0YXRlLCB2Y0luc3RhbmNlXSk7CgoJdXNlRWZmZWN0KCgpID0mZ3Q7IHsKCQlpZiAoYWN0aXZlQWRkcmVzcykgewoJCQljb25uZWN0VVJJU2V0KCcnKTsKCQl9Cgl9LCBbYWN0aXZlQWRkcmVzc10pOwoKCXJldHVybiBhY3RpdmVBZGRyZXNzID8gKAoJCSZsdDtEcm9wZG93bkJ1dHRvbgoJCQlidXR0b25Kc3g9eyZsdDtwJmd0O3tzaG9ydGVuQWRkcmVzcyhhY3RpdmVBZGRyZXNzKX0mbHQ7L3AmZ3Q7fQoJCQlkcm9wZG93bkpzeD17CgkJCQkmbHQ7YnV0dG9uCgkJCQkJY2xhc3NOYW1lPSZxdW90O2Z4IHB4LTIgcHktMC41IGgtNyBnYXAtMiZxdW90OwoJCQkJCW9uQ2xpY2s9eygpID0mZ3Q7IHsKCQkJCQkJaWYgKHZwQWRkcmVzcyAmYW1wOyZhbXA7IHdpbmRvdz8udml0ZVBhc3Nwb3J0KSB7CgkJCQkJCQlzZXRTdGF0ZSh7IHZwQWRkcmVzczogdW5kZWZpbmVkIH0pOwoJCQkJCQkJd2luZG93LnZpdGVQYXNzcG9ydC5kaXNjb25uZWN0V2FsbGV0KCk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl2Y0luc3RhbmNlIS5raWxsU2Vzc2lvbigpOwoJCQkJCQl9CgkJCQkJfX0KCQkJCQlvbk1vdXNlRG93bj17KGUpID0mZ3Q7IGUucHJldmVudERlZmF1bHQoKX0KCQkJCSZndDsKCQkJCQkmbHQ7TG9nb3V0SWNvbiBjbGFzc05hbWU9JnF1b3Q7aC1mdWxsIHRleHQtc2tpbi1tdXRlZCZxdW90OyAvJmd0OwoJCQkJCSZsdDtwIGNsYXNzTmFtZT0mcXVvdDtmb250LXNlbWlib2xkJnF1b3Q7Jmd0O3tpMThuLmxvZ091dH0mbHQ7L3AmZ3Q7CgkJCQkmbHQ7L2J1dHRvbiZndDsKCQkJfQoJCS8mZ3Q7CgkpIDogKAoJCSZsdDsmZ3Q7CgkJCSZsdDtidXR0b24KCQkJCWNsYXNzTmFtZT0mcXVvdDtiZy1za2luLW1lZGxpZ2h0IGgtOCBweC0zIHJvdW5kZWQtbWQgYnJpZ2h0bmVzcy1idXR0b24gZm9udC1zZW1pYm9sZCB0ZXh0LXdoaXRlIHNoYWRvdyZxdW90OwoJCQkJb25DbGljaz17YXN5bmMgKCkgPSZndDsgewoJCQkJCXZjSW5zdGFuY2UgPSBpbml0Vml0ZUNvbm5lY3QoKTsKCQkJCQljb25uZWN0VVJJU2V0KGF3YWl0IHZjSW5zdGFuY2UuY3JlYXRlU2Vzc2lvbigpKTsKCQkJCQl2Y0luc3RhbmNlLm9uKCdjb25uZWN0JywgKCkgPSZndDsgc2V0U3RhdGUoeyB2Y0luc3RhbmNlIH0pKTsKCQkJCX19CgkJCSZndDsKCQkJCSZsdDtwJmd0O3tpMThuLmNvbm5lY3RXYWxsZXR9Jmx0Oy9wJmd0OwoJCQkmbHQ7L2J1dHRvbiZndDsKCQkJeyEhY29ubmVjdFVSSSAmYW1wOyZhbXA7ICgKCQkJCSZsdDtNb2RhbCBvbkNsb3NlPXsoKSA9Jmd0OyBjb25uZWN0VVJJU2V0KCcnKX0mZ3Q7CgkJCQkJJmx0O3AgY2xhc3NOYW1lPSZxdW90O3RleHQtY2VudGVyIHRleHQtbGcgbWItMyBmb250LXNlbWlib2xkJnF1b3Q7Jmd0O3tpMThuLnNjYW5XaXRoWW91clZpdGVXYWxsZXRBcHB9Jmx0Oy9wJmd0OwoJCQkJCSZsdDtkaXYgY2xhc3NOYW1lPSZxdW90O3h5JnF1b3Q7Jmd0OwoJCQkJCQkmbHQ7UVIgZGF0YT17Y29ubmVjdFVSSX0gLyZndDsKCQkJCQkmbHQ7L2RpdiZndDsKCQkJCQkmbHQ7cCBjbGFzc05hbWU9JnF1b3Q7dGV4dC1jZW50ZXIgdGV4dC1sZyBteS0zIGZvbnQtc2VtaWJvbGQmcXVvdDsmZ3Q7e2kxOG4ub3J9Jmx0Oy9wJmd0OwoJCQkJCSZsdDtidXR0b24KCQkJCQkJY2xhc3NOYW1lPSZxdW90O2JnLXNraW4tbWVkbGlnaHQgaC04IHctZnVsbCByb3VuZGVkLW1kIGJyaWdodG5lc3MtYnV0dG9uIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBzaGFkb3cmcXVvdDsKCQkJCQkJb25DbGljaz17YXN5bmMgKCkgPSZndDsgewoJCQkJCQkJaWYgKHdpbmRvdz8udml0ZVBhc3Nwb3J0KSB7CgkJCQkJCQkJdHJ5IHsKCQkJCQkJCQkJYXdhaXQgd2luZG93LnZpdGVQYXNzcG9ydC5jb25uZWN0V2FsbGV0KCk7CgkJCQkJCQkJCWNvbnN0IGFjdGl2ZU5ldHdvcmsgPSBhd2FpdCB3aW5kb3cudml0ZVBhc3Nwb3J0LmdldE5ldHdvcmsoKTsKCQkJCQkJCQkJc2V0U3RhdGUoewoJCQkJCQkJCQkJYWN0aXZlTmV0d29ya0luZGV4OiBuZXR3b3JrTGlzdC5maW5kSW5kZXgoCgkJCQkJCQkJCQkJKG4pID0mZ3Q7IG4ucnBjVXJsID09PSBhY3RpdmVOZXR3b3JrLnJwY1VybAoJCQkJCQkJCQkJKSwKCQkJCQkJCQkJfSk7CgkJCQkJCQkJfSBjYXRjaCAoZXJyb3IpIHsKCQkJCQkJCQkJc2V0U3RhdGUoeyB0b2FzdDogZXJyb3IgfSk7CgkJCQkJCQkJfQoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQlzZXRTdGF0ZSh7IHRvYXN0OiBpMThuLnZpdGVQYXNzcG9ydE5vdERldGVjdGVkIH0pOwoJCQkJCQkJfQoJCQkJCQl9fQoJCQkJCSZndDsKCQkJCQkJe2kxOG4uY29ubmVjdFdpdGhWaXRlUGFzc3BvcnR9CgkJCQkJJmx0Oy9idXR0b24mZ3Q7CgkJCQkmbHQ7L01vZGFsJmd0OwoJCQkpfQoJCSZsdDsvJmd0OwoJKTsKfTsKCmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoQ29ubmVjdFdhbGxldEJ1dHRvbik7Cg=="}}),t._v(" "),d("h3",{attrs:{id:"contract-configuration"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#contract-configuration"}},[t._v("#")]),t._v(" Contract Configuration")]),t._v(" "),d("p",[t._v("All contracts should be put in the "),d("code",[t._v("contracts")]),t._v(" folder with this structure.")]),t._v(" "),d("blockquote",[d("p",[t._v("Note: Use the Solpp debugger extension or run "),d("code",[t._v("npx vuilder compile Cafe.solpp")]),t._v(" to get contract ABI.")])]),t._v(" "),d("p",[d("code",[t._v("frontend/src/contracts/Cafe.ts")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"ts",base64:"Y29uc3QgQ2FmZSA9IHsKCWFkZHJlc3M6IHsKCQltYWlubmV0OiAnJywKCQl0ZXN0bmV0OiAnJmx0O3lvdXJfY29udHJhY3RfYWRkcmVzcyZndDsnLAoJCWxvY2FsbmV0OiAnJywKCX0sCglhYmk6IFsKCQl7IGlucHV0czogW10sIHN0YXRlTXV0YWJpbGl0eTogJ3BheWFibGUnLCB0eXBlOiAnY29uc3RydWN0b3InIH0sCgkJLy8gLi4uCgldLAp9OwoKZXhwb3J0IGRlZmF1bHQgQ2FmZTsK"}}),t._v(" "),d("h3",{attrs:{id:"contract-interaction"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#contract-interaction"}},[t._v("#")]),t._v(" Contract Interaction")]),t._v(" "),d("p",[t._v("Once a ViteConnect instance is created and contracts are configured, you can interact with a contract with the "),d("code",[t._v("callContract")]),t._v(" method which is part of the global state and updated in "),d("code",[t._v("Router.tsx")]),t._v(". Calling the "),d("code",[t._v("callContract")]),t._v(" method will return a "),d("code",[t._v("Promise")]),t._v(", so you may want to use it with "),d("code",[t._v("async")]),t._v("/"),d("code",[t._v("await")]),t._v(" where you prompt the user to confirm the transaction before blocking the code execution with "),d("code",[t._v("await")]),t._v(".")]),t._v(" "),d("p",[d("code",[t._v("frontend/src/components/Router.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"Y29uc3QgY2FsbENvbnRyYWN0ID0gdXNlQ2FsbGJhY2soCiAgKAogICAgY29udHJhY3Q6IHR5cGVvZiBDYWZlQ29udHJhY3QsCiAgICBtZXRob2ROYW1lOiBzdHJpbmcsCiAgICBwYXJhbXM6IGFueVtdID0gW10sCiAgICB0b2tlbklkPzogc3RyaW5nLAogICAgYW1vdW50Pzogc3RyaW5nCiAgKSA9Jmd0OyB7CiAgICBpZiAoIXZjSW5zdGFuY2UpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWV0aG9kQWJpID0gY29udHJhY3QuYWJpLmZpbmQoCiAgICAgICh4OiBhbnkpID0mZ3Q7IHgubmFtZSA9PT0gbWV0aG9kTmFtZSAmYW1wOyZhbXA7IHgudHlwZSA9PT0gJ2Z1bmN0aW9uJwogICAgKTsKICAgIGlmICghbWV0aG9kQWJpKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcihgbWV0aG9kIG5vdCBmb3VuZDogJHttZXRob2ROYW1lfWApOwogICAgfQogICAgY29uc3QgdG9BZGRyZXNzID0gY29udHJhY3QuYWRkcmVzc1tuZXR3b3JrVHlwZV07CiAgICBpZiAoIXRvQWRkcmVzcykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7bmV0d29ya1R5cGV9IGNvbnRyYWN0IGFkZHJlc3Mgbm90IGZvdW5kYCk7CiAgICB9CiAgICBjb25zdCBibG9jayA9IGFjY291bnRCbG9jay5jcmVhdGVBY2NvdW50QmxvY2soJ2NhbGxDb250cmFjdCcsIHsKICAgICAgYWRkcmVzczogY29ubmVjdGVkQWNjb3VudCwKICAgICAgYWJpOiBtZXRob2RBYmksCiAgICAgIHRvQWRkcmVzcywKICAgICAgcGFyYW1zLAogICAgICB0b2tlbklkLAogICAgICBhbW91bnQsCiAgICB9KS5hY2NvdW50QmxvY2s7CiAgICByZXR1cm4gdmNJbnN0YW5jZS5zaWduQW5kU2VuZFR4KFt7IGJsb2NrIH1dKTsKICB9LAogIFtjb25uZWN0ZWRBY2NvdW50LCBuZXR3b3JrVHlwZSwgdmNJbnN0YW5jZV0KKTsKdXNlRWZmZWN0KCgpID0mZ3Q7IHsKICBzZXRTdGF0ZSh7IGNhbGxDb250cmFjdCB9KTsKfSwgW3NldFN0YXRlLCBjYWxsQ29udHJhY3RdKTsK"}}),t._v(" "),d("p",[d("code",[t._v("frontend/src/pages/AppHome.tsx")]),t._v(":")]),t._v(" "),d("tm-code-block",{staticClass:"codeblock",attrs:{language:"tsx",base64:"Jmx0O2J1dHRvbgogIGNsYXNzTmFtZT17YCR7CiAgICB2Y0luc3RhbmNlID8gJ2JnLXNraW4tbWVkbGlnaHQgYnJpZ2h0bmVzcy1idXR0b24nIDogJ2JnLWdyYXktNDAwJwogIH0gaC04IHB4LTMgcm91bmRlZC1tZCBmb250LXNlbWlib2xkIHRleHQtd2hpdGUgc2hhZG93YH0KICBkaXNhYmxlZD17IXZjSW5zdGFuY2V9CiAgb25DbGljaz17YXN5bmMgKCkgPSZndDsgewogICAgaWYgKHZhbGlkYXRlSW5wdXRzKFtiZW5lZmljaWFyeUFkZHJlc3NSZWYsIGFtb3VudFJlZl0pKSB7CiAgICAgIHByb21wdFR4Q29uZmlybWF0aW9uU2V0KHRydWUpOwogICAgICBhd2FpdCBjYWxsQ29udHJhY3QoCiAgICAgICAgQ2FmZUNvbnRyYWN0LAogICAgICAgICdidXlDb2ZmZWUnLAogICAgICAgIFtiZW5lZmljaWFyeUFkZHJlc3MsIGFtb3VudF0sCiAgICAgICAgY29uc3RhbnQuVml0ZV9Ub2tlbklkLAogICAgICAgIHRvU21hbGxlc3RVbml0KGFtb3VudCwgY29uc3RhbnQuVml0ZV9Ub2tlbl9JbmZvLmRlY2ltYWxzKQogICAgICApOwogICAgICBzZXRTdGF0ZSh7IHRvYXN0OiBpMThuLnRyYW5zYWN0aW9uQ29uZmlybWVkIH0pOwogICAgICBiZW5lZmljaWFyeUFkZHJlc3NTZXQoJycpOwogICAgICBhbW91bnRTZXQoJycpOwogICAgICBwcm9tcHRUeENvbmZpcm1hdGlvblNldChmYWxzZSk7CiAgICB9CiAgfX0KJmd0OwogIHtpMThuLmJ1eUNvZmZlZX0KJmx0Oy9idXR0b24mZ3Q7Cg=="}})],1)}),[],!1,null,null,null);e.default=s.exports}}]);